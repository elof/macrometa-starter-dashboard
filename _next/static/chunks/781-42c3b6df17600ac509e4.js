(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[781],{9444:function(e,t,r){"use strict";r.d(t,{r:function(){return l}});var n=r(63),s=r(4915),i=r(5284),o=r(227),a=r(4461),c=r(3808),h=r(7294);function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var l=(0,n.G)(((e,t)=>{var r=(0,s.m)("Link",e),n=(0,i.Lr)(e),{className:c,isExternal:l}=n,d=function(e,t){if(null==e)return{};var r,n,s={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(s[r]=e[r]);return s}(n,["className","isExternal"]);return h.createElement(o.m$.a,u({target:l?"_blank":void 0,rel:l?"noopener noreferrer":void 0,ref:t,className:(0,a.cx)("chakra-link",c)},d,{__css:r}))}));c.Ts&&(l.displayName="Link")},6178:function(e,t,r){"use strict";r.d(t,{Ph:function(){return k}});var n=r(4461),s=r(658),i=r(4577),o=r(7294);var a=r(63),c=r(4915),h=r(5284),u=r(9676),l=r(227),d=r(3808),p=r(8500);function y(e,t){if(null!=e)if((0,d.mf)(e))e(t);else try{e.current=t}catch(r){throw new Error("Cannot assign value '"+t+"' to ref '"+e+"'")}}function m(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return e=>{t.forEach((t=>y(t,e)))}}function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function b(e,t){if(null==e)return{};var r,n,s={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(s[r]=e[r]);return s}var[_,g]=(0,p.k)({strict:!1,name:"FormControlContext"});function v(e){var{id:t,isRequired:r,isInvalid:s,isDisabled:a,isReadOnly:c}=e,h=b(e,["id","isRequired","isInvalid","isDisabled","isReadOnly"]),u=(0,i.Me)(),l=t||"field-"+u,d=l+"-label",p=l+"-feedback",y=l+"-helptext",[_,g]=o.useState(!1),[v,E]=o.useState(!1),[q,O]=function(e){void 0===e&&(e=!1);var[t,r]=(0,o.useState)(e);return[t,{on:(0,o.useCallback)((()=>{r(!0)}),[]),off:(0,o.useCallback)((()=>{r(!1)}),[]),toggle:(0,o.useCallback)((()=>{r((e=>!e))}),[])}]}(),T=o.useCallback((function(e,t){return void 0===e&&(e={}),void 0===t&&(t=null),f({id:y},e,{ref:m(t,(e=>{e&&E(!0)}))})}),[y]),x=o.useCallback((function(e,t){var r,i;return void 0===e&&(e={}),void 0===t&&(t=null),f({},e,{ref:t,"data-focus":(0,n.PB)(q),"data-disabled":(0,n.PB)(a),"data-invalid":(0,n.PB)(s),"data-readonly":(0,n.PB)(c),id:null!=(r=e.id)?r:d,htmlFor:null!=(i=e.htmlFor)?i:l})}),[l,a,q,s,c,d]),w=o.useCallback((function(e,t){return void 0===e&&(e={}),void 0===t&&(t=null),f({id:p},e,{ref:m(t,(e=>{e&&g(!0)})),"aria-live":"polite"})}),[p]),C=o.useCallback((function(e,t){return void 0===e&&(e={}),void 0===t&&(t=null),f({},e,h,{ref:t,role:"group"})}),[h]),P=o.useCallback((function(e,t){return void 0===e&&(e={}),void 0===t&&(t=null),f({},e,{ref:t,role:"presentation","aria-hidden":!0,children:e.children||"*"})}),[]);return{isRequired:!!r,isInvalid:!!s,isReadOnly:!!c,isDisabled:!!a,isFocused:!!q,onFocus:O.on,onBlur:O.off,hasFeedbackText:_,setHasFeedbackText:g,hasHelpText:v,setHasHelpText:E,id:l,labelId:d,feedbackId:p,helpTextId:y,htmlProps:h,getHelpTextProps:T,getErrorMessageProps:w,getRootProps:C,getLabelProps:x,getRequiredIndicatorProps:P}}var E=(0,a.G)(((e,t)=>{var r=(0,c.j)("Form",e),s=v((0,h.Lr)(e)),{getRootProps:i}=s,a=b(s,["getRootProps","htmlProps"]),d=(0,n.cx)("chakra-form-control",e.className),p=o.useMemo((()=>a),[a]);return o.createElement(_,{value:p},o.createElement(u.Fo,{value:r},o.createElement(l.m$.div,f({},i({},t),{className:d,__css:r.container}))))}));d.Ts&&(E.displayName="FormControl");var q=(0,a.G)(((e,t)=>{var r=g(),s=(0,u.yK)(),i=(0,n.cx)("chakra-form__helper-text",e.className);return o.createElement(l.m$.div,f({},null==r?void 0:r.getHelpTextProps(e,t),{__css:s.helperText,className:i}))}));function O(){return(O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function T(e,t){if(null==e)return{};var r,n,s={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(s[r]=e[r]);return s}function x(e){var t=function(e){var t,r,n,i=g(),{id:o,disabled:a,readOnly:c,required:h,isRequired:u,isInvalid:l,isReadOnly:d,isDisabled:p,onFocus:y,onBlur:m}=e,f=T(e,["id","disabled","readOnly","required","isRequired","isInvalid","isReadOnly","isDisabled","onFocus","onBlur"]),b=e["aria-describedby"]?[e["aria-describedby"]]:[];null!=i&&i.hasFeedbackText&&null!=i&&i.isInvalid&&b.push(i.feedbackId);null!=i&&i.hasHelpText&&b.push(i.helpTextId);return O({},f,{"aria-describedby":b.join(" ")||void 0,id:null!=o?o:null==i?void 0:i.id,isDisabled:null!=(t=null!=a?a:p)?t:null==i?void 0:i.isDisabled,isReadOnly:null!=(r=null!=c?c:d)?r:null==i?void 0:i.isReadOnly,isRequired:null!=(n=null!=h?h:u)?n:null==i?void 0:i.isRequired,isInvalid:null!=l?l:null==i?void 0:i.isInvalid,onFocus:(0,s.v0)(null==i?void 0:i.onFocus,y),onBlur:(0,s.v0)(null==i?void 0:i.onBlur,m)})}(e),{isDisabled:r,isInvalid:i,isReadOnly:o,isRequired:a}=t;return O({},T(t,["isDisabled","isInvalid","isReadOnly","isRequired"]),{disabled:r,readOnly:o,required:a,"aria-invalid":(0,n.Qm)(i),"aria-required":(0,n.Qm)(a),"aria-readonly":(0,n.Qm)(o)})}d.Ts&&(q.displayName="FormHelperText");var w=r(9421),C=r(5505),P=r(8554),$=r.n(P);function A(){return(A=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function S(e,t){if(null==e)return{};var r,n,s={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(s[r]=e[r]);return s}var L=(0,a.G)(((e,t)=>{var{children:r,placeholder:s,className:i}=e,a=S(e,["children","placeholder","className"]);return o.createElement(l.m$.select,A({},a,{ref:t,className:(0,n.cx)("chakra-select",i)}),s&&o.createElement("option",{value:""},s),r)}));d.Ts&&(L.displayName="SelectField");var k=(0,a.G)(((e,t)=>{var r=(0,c.j)("Select",e),s=(0,h.Lr)(e),{rootProps:i,placeholder:a,icon:u,color:d,height:p,h:y,minH:m,minHeight:f,iconColor:b,iconSize:_}=s,g=S(s,["rootProps","placeholder","icon","color","height","h","minH","minHeight","iconColor","iconSize","isFullWidth"]),[v,E]=(0,C.Vl)(g,w.layoutPropNames),q=x(E),O={width:"100%",height:"fit-content",position:"relative",color:d},T=$()({},r.field,{paddingEnd:"2rem",_focus:{zIndex:"unset"}});return o.createElement(l.m$.div,A({className:"chakra-select__wrapper",__css:O},v,i),o.createElement(L,A({ref:t,height:null!=y?y:p,minH:null!=m?m:f,placeholder:a},q,{__css:T}),e.children),o.createElement(D,A({"data-disabled":(0,n.PB)(q.disabled)},(b||d)&&{color:b||d},{__css:r.icon},_&&{fontSize:_}),u))}));d.Ts&&(k.displayName="Select");var N=e=>o.createElement("svg",A({viewBox:"0 0 24 24"},e),o.createElement("path",{fill:"currentColor",d:"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"})),j=(0,l.m$)("div",{baseStyle:{position:"absolute",display:"inline-flex",alignItems:"center",justifyContent:"center",pointerEvents:"none",top:"50%",transform:"translateY(-50%)"}}),D=e=>{var{children:t=o.createElement(N,null)}=e,r=S(e,["children"]),n=o.cloneElement(t,{role:"presentation",className:"chakra-select__icon",focusable:!1,"aria-hidden":!0,style:{width:"1em",height:"1em",color:"currentColor"}});return o.createElement(j,A({},r,{className:"chakra-select__icon-wrapper"}),o.isValidElement(t)?n:null)};d.Ts&&(D.displayName="SelectIcon")},4020:function(e){"use strict";var t="%[a-f0-9]{2}",r=new RegExp(t,"gi"),n=new RegExp("("+t+")+","gi");function s(e,t){try{return decodeURIComponent(e.join(""))}catch(i){}if(1===e.length)return e;t=t||1;var r=e.slice(0,t),n=e.slice(t);return Array.prototype.concat.call([],s(r),s(n))}function i(e){try{return decodeURIComponent(e)}catch(i){for(var t=e.match(r),n=1;n<t.length;n++)t=(e=s(t,n).join("")).match(r);return e}}e.exports=function(e){if("string"!==typeof e)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return e=e.replace(/\+/g," "),decodeURIComponent(e)}catch(t){return function(e){for(var r={"%FE%FF":"\ufffd\ufffd","%FF%FE":"\ufffd\ufffd"},s=n.exec(e);s;){try{r[s[0]]=decodeURIComponent(s[0])}catch(t){var o=i(s[0]);o!==s[0]&&(r[s[0]]=o)}s=n.exec(e)}r["%C2"]="\ufffd";for(var a=Object.keys(r),c=0;c<a.length;c++){var h=a[c];e=e.replace(new RegExp(h,"g"),r[h])}return e}(e)}}},7216:function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}r.r(t);var i=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";n(this,t);var r=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return Object.defineProperty(r,"message",{configurable:!0,enumerable:!1,value:e,writable:!0}),Object.defineProperty(r,"name",{configurable:!0,enumerable:!1,value:r.constructor.name,writable:!0}),Error.hasOwnProperty("captureStackTrace")?(Error.captureStackTrace(r,r.constructor),s(r)):(Object.defineProperty(r,"stack",{configurable:!0,enumerable:!1,value:new Error(e).stack,writable:!0}),r)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(function(e){function t(){e.apply(this,arguments)}return t.prototype=Object.create(e.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e,t}(Error));t.default=i},2806:function(e){"use strict";e.exports=function(e,t){for(var r={},n=Object.keys(e),s=Array.isArray(t),i=0;i<n.length;i++){var o=n[i],a=e[o];(s?-1!==t.indexOf(o):t(o,a,e))&&(r[o]=a)}return r}},8908:function(e,t,r){var n;n="undefined"!==typeof window?window:"undefined"!==typeof r.g?r.g:"undefined"!==typeof self?self:{},e.exports=n},7376:function(e){e.exports=function(e){if(!e)return!1;var r=t.call(e);return"[object Function]"===r||"function"===typeof e&&"[object RegExp]"!==r||"undefined"!==typeof window&&(e===window.setTimeout||e===window.alert||e===window.confirm||e===window.prompt)};var t=Object.prototype.toString},8487:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.ApiKeys=class{constructor(e,t="",r=""){this._connection=e,this.keyid=t,this.dbName=r}validateApiKey(e){return this._connection.request({method:"POST",path:"/_api/key/validate",body:e},(e=>e.body))}createApiKey(){return this._connection.request({method:"POST",path:"/_api/key",body:{keyid:this.keyid}},(e=>e.body))}getAvailableApiKeys(){return this._connection.request({method:"GET",path:"/_api/key"},(e=>e.body))}getAvailableApiKey(){return this._connection.request({method:"GET",path:`/_api/key/${this.keyid}`},(e=>e.body))}removeApiKey(){return this._connection.request({method:"DELETE",path:`/_api/key/${this.keyid}`},(e=>e.body))}listAccessibleDatabases(e=!1){return this._connection.request({method:"GET",path:`/_api/key/${this.keyid}/database`,qs:{full:e}},(e=>e.body))}getDatabaseAccessLevel(){return this._connection.request({method:"GET",path:`/_api/key/${this.keyid}/database/${this.dbName}`},(e=>e.body))}clearDatabaseAccessLevel(){return this._connection.request({method:"DELETE",path:`/_api/key/${this.keyid}/database/${this.dbName}`},(e=>e.body))}setDatabaseAccessLevel(e){return this._connection.request({method:"PUT",path:`/_api/key/${this.keyid}/database/${this.dbName}`,body:{grant:e}},(e=>e.body))}listAccessibleCollections(e=!1){return this._connection.request({method:"GET",path:`/_api/key/${this.keyid}/database/${this.dbName}/collection`,qs:{full:e}},(e=>e.body))}getCollectionAccessLevel(e){return this._connection.request({method:"GET",path:`/_api/key/${this.keyid}/database/${this.dbName}/collection/${e}`},(e=>e.body))}clearCollectionAccessLevel(e){return this._connection.request({method:"DELETE",path:`/_api/key/${this.keyid}/database/${this.dbName}/collection/${e}`},(e=>e.body))}setCollectionAccessLevel(e,t){return this._connection.request({method:"PUT",path:`/_api/key/${this.keyid}/database/${this.dbName}/collection/${e}`,body:{grant:t}},(e=>e.body))}listAccessibleStreams(e=!1){return this._connection.request({method:"GET",path:`/_api/key/${this.keyid}/database/${this.dbName}/stream`,qs:{full:e}},(e=>e.body))}getStreamAccessLevel(e){return this._connection.request({method:"GET",path:`/_api/key/${this.keyid}/database/${this.dbName}/stream/${e}`},(e=>e.body))}clearStreamAccessLevel(e){return this._connection.request({method:"DELETE",path:`/_api/key/${this.keyid}/database/${this.dbName}/stream/${e}`},(e=>e.body))}setStreamAccessLevel(e,t){return this._connection.request({method:"PUT",path:`/_api/key/${this.keyid}/database/${this.dbName}/stream/${e}`,body:{grant:t}},(e=>e.body))}getBillingAccessLevel(){return this._connection.request({method:"GET",path:`/_api/key/${this.keyid}/billing`},(e=>e.body))}clearBillingAccessLevel(){return this._connection.request({method:"DELETE",path:`/_api/key/${this.keyid}/billing`},(e=>e.body))}setBillingAccessLevel(e){return this._connection.request({method:"PUT",path:`/_api/key/${this.keyid}/billing`,body:{grant:e}},(e=>e.body))}}},9583:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(937);function s(e){return Boolean(e&&"function"===typeof e.toC8QL)}function i(e,...t){const r={},i=[];let o=e[0];for(let a=0;a<t.length;a++){const c=t[a];let h=c;if(s(c)){o+=`${c.toC8QL()}${e[a+1]}`;continue}const u=i.indexOf(c),l=-1!==u;let d=`value${l?u:i.length}`;n.isC8Collection(c)&&(d=`@${d}`,h=c.name),l||(i.push(c),r[d]=h),o+=`@${d}${e[a+1]}`}return{query:o,bindVars:r}}t.isC8QLQuery=function(e){return Boolean(e&&e.query&&e.bindVars)},t.isC8QLLiteral=s,t.c8ql=i,function(e){e.literal=e=>({toC8QL:()=>String(e)})}(i=t.c8ql||(t.c8ql={}))},1599:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(s,i){function o(e){try{c(n.next(e))}catch(t){i(t)}}function a(e){try{c(n.throw(e))}catch(t){i(t)}}function c(e){e.done?s(e.value):new r((function(t){t(e.value)})).then(o,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const s=r(7425),i=r(190),o=r(8487),a=r(8095),c=r(3671);class h extends s.Fabric{constructor(e){super(e)}useApiKeyAuth(e){return this._connection.setHeader("authorization",`apikey ${e}`),this}loginWithToken(e){return n(this,void 0,void 0,(function*(){this.useBearerAuth(e);const{error:t,errorMessage:r,result:n}=yield this.validateApiKey({jwt:e});if(t)throw new Error(r);{const{tenant:e}=n;this.useTenant(e)}}))}loginWithApiKey(e){return n(this,void 0,void 0,(function*(){this.useApiKeyAuth(e);const{error:t,errorMessage:r,result:n}=yield this.validateApiKey({apikey:e});if(t)throw new Error(r);{const{tenant:e}=n;this.useTenant(e)}}))}createCollection(e,t,r=!1){let n;return n=r?this.edgeCollection(e):this.collection(e),n.create(t)}deleteCollection(e,t){return this.collection(e).drop(t)}hasCollection(e){return this.collection(e).exists()}getCollection(e){return this.collection(e).get()}getCollections(e=!0){return this.listCollections(e)}onCollectionChange(e,t,r){return n(this,void 0,void 0,(function*(){let n=(yield this.getLocalDc()).tags.url;t&&(n=t);return this.collection(e).onChange(n,r)}))}getDocument(e,t,r=!1){return this.collection(e).document(t,r)}getDocumentMany(e,t,r){const n=`FOR doc IN ${e} ${t?`limit ${r?`${r},`:""}${t}`:""} return doc`;return this.executeQuery(n)}insertDocument(e,t,r){return this.collection(e).save(t,r)}insertDocumentMany(e,t,r){return this.collection(e).save(t,r)}insertDocumentFromFile(e,t,r){return n(this,void 0,void 0,(function*(){const n=yield c().fromFile(t);return this.collection(e).save(n,r)}))}updateDocument(e,t,r,n={}){return this.collection(e).update(t,r,n)}updateDocumentMany(e,t,r={}){return this.collection(e).updateDocuments(t,r)}replaceDocument(e,t,r,n={}){return this.collection(e).replace(t,r,n)}replaceDocumentMany(e,t,r={}){return this.collection(e).replaceDocuments(t,r)}deleteDocument(e,t,r={}){return this.collection(e).remove(t,r)}deleteDocumentMany(e,t,r={}){return this.collection(e).removeDocuments(t,r)}listCollectionIndexes(e){return this.collection(e).indexes()}addHashIndex(e,t,r){return this.collection(e).createHashIndex(t,r)}addGeoIndex(e,t,r){return this.collection(e).createGeoIndex(t,r)}addSkiplistIndex(e,t,r){return this.collection(e).createSkipList(t,r)}addPersistentIndex(e,t,r){return this.collection(e).createPersistentIndex(t,r)}addFullTextIndex(e,t,r){return this.collection(e).createFulltextIndex(t,r)}addTtlIndex(e,t,r){return this.collection(e).createTtlIndex(t,r)}deleteIndex(e,t){return this.collection(e).dropIndex(t)}getCollectionIds(e){const t=`FOR doc IN ${e} RETURN doc._id`;return this.executeQuery(t)}getCollectionKeys(e){const t=`FOR doc IN ${e} RETURN doc._key`;return this.executeQuery(t)}getCollectionIndexes(e){return this.collection(e).indexes()}executeQuery(e,t,r){return this.query(e,t,r).then((e=>e.all()))}getRunningQueries(){return this.getCurrentQueries()}killQuery(e){return this.terminateRunningQuery(e)}createRestql(e,t,r={}){return this.saveQuery(e,r,t)}executeRestql(e,t={}){return this.executeSavedQuery(e,t)}updateRestql(e,t,r={}){return this.updateSavedQuery(e,r,t)}deleteRestql(e){return this.deleteSavedQuery(e)}getRestqls(){return this.listSavedQueries()}getDcList(){return this.getTenantEdgeLocations()}getLocalDc(){return this.getLocalEdgeLocation()}createStream(e,t,r=!1){return this.stream(e,t,r).createStream()}hasStream(e,t){const r=t?`c8locals.${e}`:`c8globals.${e}`;return this.getStreams(!t).then((e=>!!e.result.find((e=>e.topic===r))),(e=>{throw e}))}getStream(e,t,r=!1){return this.stream(e,t,r)}getStreamStats(e,t,r=!1){return this.stream(e,t,r).getStreamStatistics()}createStreamProducer(e,t,r=!1,s,i={}){return n(this,void 0,void 0,(function*(){let n=(yield this.getLocalDc()).tags.url;s&&(n=s);const o=this.stream(e,t,r),a=yield o.getOtp();return o.producer(n,Object.assign({},i,{otp:a}))}))}createStreamReader(e,t,r,s=!1,i,o={}){return n(this,void 0,void 0,(function*(){let n=(yield this.getLocalDc()).tags.url;i&&(n=i);const a=this.stream(e,r,s),c=yield a.getOtp();return a.consumer(t,n,Object.assign({},o,{otp:c}))}))}subscribe(e,t,r=!1,s,i,o={}){return n(this,void 0,void 0,(function*(){let n=(yield this.getLocalDc()).tags.url;i&&(n=i);const a=this.stream(e,t,r),c=yield a.getOtp();return a.consumer(s,n,Object.assign({},o,{otp:c}))}))}getStreamBacklog(e,t,r=!1){return this.stream(e,t,r).backlog()}clearStreamBacklog(e){return this.clearSubscriptionBacklog(e)}clearStreamsBacklog(){return this.clearBacklog()}getStreamSubscriptions(e,t,r=!1){return this.stream(e,t,r).getSubscriptionList()}deleteStreamSubscription(e,t,r,n=!1){return this.stream(e,r,n).deleteSubscription(t)}validateStreamApp(e){return this.validateStreamappDefinition(e)}retrieveStreamApp(){return this.getAllStreamApps()}deleteStreamApp(e){return this.streamApp(e).deleteApplication()}getStreamApp(e){return this.streamApp(e).retriveApplication()}getStreamAppSamples(){return this.getSampleStreamApps()}activateStreamApp(e,t){return this.streamApp(e).activateStreamApplication(t)}createGraph(e,t={}){return this.graph(e).create(t)}deleteGraph(e,t){return this.graph(e).drop(t)}hasGraph(e){return this.graph(e).exists()}getGraph(e){return this.graph(e).get()}getGraphs(){return this.graphs()}insertEdge(e,t){return this.graph(e).addEdgeDefinition(t)}updateEdge(e,t,r,n,s={}){return this.graph(e).edgeCollection(t).update(r,n,s)}replaceEdge(e,t,r,n,s={}){return this.graph(e).edgeCollection(t).replace(r,n,s)}deleteEdge(e,t,r,n={}){return this.graph(e).edgeCollection(t).remove(r,n)}getEdges(e){return n(this,void 0,void 0,(function*(){const t=this.graph(e);return(yield t.get()).edgeDefinitions}))}linkEdge(e,t,r,n){return this.graph(e).create({edgeDefinitions:[{collection:t,from:r,to:n}]})}hasUser(e){return this.user(e).hasUser()}createUser(e,t,r="",n=!0,s={}){return this.user(e,t).createUser(r,n,s)}deleteUser(e){return this.user(e).deleteUser()}getUsers(){return this.getAllUsers()}getUser(e){return this.user(e).getUserDeatils()}updateUser(e,t){return this.user(e).modifyUser(t)}replaceUser(e,t){return this.user(e).replaceUser(t)}getPermissions(e,t){return this.user(e).getAllDatabases(t)}getPermission(e,t,r){const n=this.user(e);return r?n.getCollectionAccessLevel(t,r):n.getDatabaseAccessLevel(t)}updatePermission(e,t,r,n){const s=this.user(e);return n?s.setCollectionAccessLevel(t,n,r):s.setDatabaseAccessLevel(t,r)}resetPermission(e,t,r){const n=this.user(e);return r?n.clearCollectionAccessLevel(t,r):n.clearDatabaseAccessLevel(t)}keyValue(e){return new i.KeyValue(this._connection,e)}getKVCollections(){return this.keyValue("").getCollections()}getKVCount(e){return this.keyValue(e).getKVCount()}getKVKeys(e,t){return this.keyValue(e).getKVKeys(t)}getValueForKey(e,t){return this.keyValue(e).getValueForKey(t)}createKVCollection(e,t){return this.keyValue(e).createCollection(t)}insertKVPairs(e,t){return this.keyValue(e).insertKVPairs(t)}deleteEntryForKey(e,t){return this.keyValue(e).deleteEntryForKey(t)}deleteEntryForKeys(e,t){return this.keyValue(e).deleteEntryForKeys(t)}deleteKVCollection(e){return this.keyValue(e).deleteCollection()}apiKeys(e="",t=""){return new o.ApiKeys(this._connection,e,t)}validateApiKey(e){return this.apiKeys().validateApiKey(e)}createApiKey(e){return this.apiKeys(e).createApiKey()}getAvailableApiKeys(){return this.apiKeys().getAvailableApiKeys()}getAvailableApiKey(e){return this.apiKeys(e).getAvailableApiKey()}removeApiKey(e){return this.apiKeys(e).removeApiKey()}listAccessibleDatabases(e,t){return this.apiKeys(e).listAccessibleDatabases(t)}getDatabaseAccessLevel(e,t){return this.apiKeys(e,t).getDatabaseAccessLevel()}clearDatabaseAccessLevel(e,t){return this.apiKeys(e,t).clearDatabaseAccessLevel()}setDatabaseAccessLevel(e,t,r){return this.apiKeys(e,t).setDatabaseAccessLevel(r)}listAccessibleCollections(e,t,r){return this.apiKeys(e,t).listAccessibleCollections(r)}getCollectionAccessLevel(e,t,r){return this.apiKeys(e,t).getCollectionAccessLevel(r)}clearCollectionAccessLevel(e,t,r){return this.apiKeys(e,t).clearCollectionAccessLevel(r)}setCollectionAccessLevel(e,t,r,n){return this.apiKeys(e,t).setCollectionAccessLevel(r,n)}listAccessibleStreams(e,t,r){return this.apiKeys(e,t).listAccessibleStreams(r)}getStreamAccessLevel(e,t,r){return this.apiKeys(e,t).getStreamAccessLevel(r)}clearStreamAccessLevel(e,t,r){return this.apiKeys(e,t).clearStreamAccessLevel(r)}setStreamAccessLevel(e,t,r,n){return this.apiKeys(e,t).setStreamAccessLevel(r,n)}getBillingAccessLevel(e){return this.apiKeys(e).getBillingAccessLevel()}clearBillingAccessLevel(e){return this.apiKeys(e).clearBillingAccessLevel()}setBillingAccessLevel(e,t){return this.apiKeys(e).setBillingAccessLevel(t)}search(e){return new a.Search(this._connection,e)}setSearch(e,t,r){return this.search().setSearch(e,t,r)}searchInCollection(e,t,r,n){return this.search().searchInCollection(e,t,r,n)}getListOfViews(){return this.search().getListOfViews()}createView(e,t){return this.search({viewName:e}).createView(t)}getViewInfo(e){return this.search({viewName:e}).getViewInfo()}renameView(e,t){return this.search({viewName:e}).renameView(t)}deleteView(e){return this.search({viewName:e}).deleteView()}getViewProperties(e){return this.search({viewName:e}).getViewProperties()}updateViewProperties(e,t){return this.search({viewName:e}).updateViewProperties(t)}getListOfAnalyzers(){return this.search().getListOfAnalyzers()}createAnalyzer(e,t,r,n){return this.search({analyzerName:e}).createAnalyzer(t,r,n)}deleteAnalyzer(e,t){return this.search({analyzerName:e}).deleteAnalyzer(t)}getAnalyzerDefinition(e){return this.search({analyzerName:e}).getAnalyzerDefinition()}}t.C8Client=h},937:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(s,i){function o(e){try{c(n.next(e))}catch(t){i(t)}}function a(e){try{c(n.throw(e))}catch(t){i(t)}}function c(e){e.done?s(e.value):new r((function(t){t(e.value)})).then(o,a)}c((n=n.apply(e,t||[])).next())}))},s=this&&this.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var s=0;for(n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&(r[n[s]]=e[n[s]])}return r};Object.defineProperty(t,"__esModule",{value:!0});const i=r(2194),o=r(8209);var a;!function(e){e[e.DOCUMENT_COLLECTION=2]="DOCUMENT_COLLECTION",e[e.EDGE_COLLECTION=3]="EDGE_COLLECTION"}(a=t.CollectionType||(t.CollectionType={})),t.isC8Collection=function(e){return Boolean(e&&e.isC8Collection)},t.DOCUMENT_NOT_FOUND=1202,t.COLLECTION_NOT_FOUND=1203;class c{constructor(e,t){this.isC8Collection=!0,this.name=t,this._idPrefix=`${this.name}/`,this._connection=e,this.stream=new o.Stream(e,t,!0,!0),this._connection.c8Major>=3&&(this.createCapConstraint=void 0)}_documentPath(e){return`/document/${this._documentHandle(e)}`}_documentHandle(e){if("string"!==typeof e){if(e._id)return e._id;if(e._key)return this._idPrefix+e._key;throw new Error("Document handle must be a document or string")}return-1===e.indexOf("/")?this._idPrefix+e:e}_indexHandle(e){if("string"!==typeof e){if(e.id)return e.id;throw new Error("Index handle must be a index or string")}return-1===e.indexOf("/")?this._idPrefix+e:e}_get(e,t){return this._connection.request({path:`/collection/${this.name}/${e}`,qs:t},(e=>e.body))}_put(e,t){return this._connection.request({method:"PUT",path:`/collection/${this.name}/${e}`,body:t},(e=>e.body))}get(){return this._connection.request({path:`/collection/${this.name}`},(e=>e.body))}exists(){return this.get().then((()=>!0),(e=>{if(i.isC8Error(e)&&e.errorNum===t.COLLECTION_NOT_FOUND)return!1;throw e}))}create(e){return this._connection.request({method:"POST",path:"/collection",body:Object.assign({},e,{name:this.name,type:this.type})},(e=>e.body))}onChange(e,t="subs"){return n(this,void 0,void 0,(function*(){const r=yield this.stream.getOtp();return this.stream.consumer(t,e,{otp:r})}))}properties(){return this._get("properties")}count(){return this._get("count")}rename(e){return n(this,void 0,void 0,(function*(){const t=yield this._connection.request({method:"PUT",path:`/collection/${this.name}/rename`,body:{name:e}},(e=>e.body));return this.name=e,this._idPrefix=`${e}/`,t}))}truncate(){return this._put("truncate",void 0)}drop(e){return this._connection.request({method:"DELETE",path:`/collection/${this.name}`,qs:e},(e=>e.body))}documentExists(e){return this._connection.request({method:"HEAD",path:`/${this._documentPath(e)}`},(()=>!0)).catch((e=>{if(404===e.statusCode)return!1;throw e}))}document(e,r=!1){const n=this._connection.request({path:`/${this._documentPath(e)}`},(e=>e.body));return r?n.catch((e=>{if(i.isC8Error(e)&&e.errorNum===t.DOCUMENT_NOT_FOUND)return null;throw e})):n}replace(e,t,r={}){var n;const i={};if("string"===typeof r&&(r={rev:r}),r.rev&&this._connection.c8Major>=3){let e;n=r,({rev:e}=n),r=s(n,["rev"]),i["if-match"]=e}return this._connection.request({method:"PUT",path:`/${this._documentPath(e)}`,body:t,qs:r,headers:i},(e=>e.body))}replaceDocuments(e,t={}){var r;const n={};if("string"===typeof t&&(t={rev:t}),t.rev&&this._connection.c8Major>=3){let e;r=t,({rev:e}=r),t=s(r,["rev"]),n["if-match"]=e}return this._connection.request({method:"PUT",path:`/${this._documentPath("")}`,body:e,qs:t,headers:n},(e=>e.body))}update(e,t,r={}){var n;const i={};if("string"===typeof r&&(r={rev:r}),r.rev&&this._connection.c8Major>=3){let e;n=r,({rev:e}=n),r=s(n,["rev"]),i["if-match"]=e}return this._connection.request({method:"PATCH",path:`/${this._documentPath(e)}`,body:t,qs:r,headers:i},(e=>e.body))}updateDocuments(e,t={}){var r;const n={};if("string"===typeof t&&(t={rev:t}),t.rev&&this._connection.c8Major>=3){let e;r=t,({rev:e}=r),t=s(r,["rev"]),n["if-match"]=e}return this._connection.request({method:"PATCH",path:`/${this._documentPath("")}`,body:e,qs:t,headers:n},(e=>e.body))}remove(e,t={}){var r;const n={};if("string"===typeof t&&(t={rev:t}),t.rev&&this._connection.c8Major>=3){let e;r=t,({rev:e}=r),t=s(r,["rev"]),n["if-match"]=e}return this._connection.request({method:"DELETE",path:`/${this._documentPath(e)}`,qs:t,headers:n},(e=>e.body))}removeDocuments(e,t={}){var r;const n={};if("string"===typeof t&&(t={rev:t}),t.rev&&this._connection.c8Major>=3){let e;r=t,({rev:e}=r),t=s(r,["rev"]),n["if-match"]=e}return this._connection.request({method:"DELETE",path:`/${this._documentPath("")}`,body:e,qs:t,headers:n},(e=>e.body))}import(e,t={}){var{type:r="auto"}=t,n=s(t,["type"]);return Array.isArray(e)&&(e=e.map((e=>JSON.stringify(e))).join("\r\n")+"\r\n"),this._connection.request({method:"POST",path:"/import",body:e,isBinary:!0,qs:Object.assign({type:null===r?void 0:r},n,{collection:this.name})},(e=>e.body))}indexes(){return this._connection.request({path:"/index",qs:{collection:this.name}},(e=>e.body.indexes))}index(e){return this._connection.request({path:`/index/${this._idPrefix}${e}`},(e=>e.body))}createIndex(e){return this._connection.request({method:"POST",path:"/index",body:e,qs:{collection:this.name}},(e=>e.body))}dropIndex(e){return this._connection.request({method:"DELETE",path:`/index/${this._idPrefix}${e}`},(e=>e.body))}createCapConstraint(e){return"number"===typeof e&&(e={size:e}),this._connection.request({method:"POST",path:"/index",body:Object.assign({},e,{type:"cap"}),qs:{collection:this.name}},(e=>e.body))}createHashIndex(e,t){return"string"===typeof e&&(e=[e]),"boolean"===typeof t&&(t={unique:t}),this._connection.request({method:"POST",path:"/index",body:Object.assign({unique:!1},t,{type:"hash",fields:e}),qs:{collection:this.name}},(e=>e.body))}createSkipList(e,t){return"string"===typeof e&&(e=[e]),"boolean"===typeof t&&(t={unique:t}),this._connection.request({method:"POST",path:"/index",body:Object.assign({unique:!1},t,{type:"skiplist",fields:e}),qs:{collection:this.name}},(e=>e.body))}createPersistentIndex(e,t){return"string"===typeof e&&(e=[e]),"boolean"===typeof t&&(t={unique:t}),this._connection.request({method:"POST",path:"/index",body:Object.assign({unique:!1},t,{type:"persistent",fields:e}),qs:{collection:this.name}},(e=>e.body))}createGeoIndex(e,t){return"string"===typeof e&&(e=[e]),this._connection.request({method:"POST",path:"/index",body:Object.assign({},t,{fields:e,type:"geo"}),qs:{collection:this.name}},(e=>e.body))}createFulltextIndex(e,t){return"string"===typeof e&&(e=[e]),this._connection.request({method:"POST",path:"/index",body:{fields:e,minLength:t,type:"fulltext"},qs:{collection:this.name}},(e=>e.body))}createTtlIndex(e,t){return"string"===typeof e&&(e=[e]),this._connection.request({method:"POST",path:"/index",body:{fields:e,expireAfter:t,type:"ttl"},qs:{collection:this.name}},(e=>e.body))}}t.BaseCollection=c;class h extends c{constructor(e,t){super(e,t),this.type=a.DOCUMENT_COLLECTION}save(e,t){return"boolean"===typeof t&&(t={returnNew:t}),this._connection.c8Major<=2?this._connection.request({method:"POST",path:"/document",body:e,qs:Object.assign({},t,{collection:this.name})},(e=>e.body)):this._connection.request({method:"POST",path:`/document/${this.name}`,body:e,qs:t},(e=>e.body))}}t.DocumentCollection=h;class u extends c{constructor(e,t){super(e,t),this.type=a.EDGE_COLLECTION}_documentPath(e){return this._connection.c8Major<3?`edge/${this._documentHandle(e)}`:`document/${this._documentHandle(e)}`}edge(e,t=!1){return this.document(e,t)}save(e,t,r,n){return void 0!==r?(e._from=this._documentHandle(t),e._to=this._documentHandle(r)):void 0!==t&&(n=t),"boolean"===typeof n&&(n={returnNew:n}),this._connection.c8Major<=2?this._connection.request({method:"POST",path:"/edge",body:e,qs:Object.assign({},n,{collection:this.name,from:e._from,to:e._to})},(e=>e.body)):this._connection.request({method:"POST",path:"/document",body:e,qs:Object.assign({},n,{collection:this.name})},(e=>e.body))}_edges(e,t){return this._connection.request({path:`/edges/${this.name}`,qs:{direction:t,vertex:this._documentHandle(e)}},(e=>e.body.edges))}edges(e){return this._edges(e,void 0)}inEdges(e){return this._edges(e,"in")}outEdges(e){return this._edges(e,"out")}traversal(e,t){return this._connection.request({method:"POST",path:"/traversal",body:Object.assign({},t,{startVertex:e,edgeCollection:this.name})},(e=>e.body.result))}}t.EdgeCollection=u,t.constructCollection=function(e,t){return new(t.type===a.EDGE_COLLECTION?u:h)(e,t.name)}},4276:function(e,t,r){"use strict";var n=this&&this.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var s=0;for(n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&(r[n[s]]=e[n[s]])}return r};Object.defineProperty(t,"__esModule",{value:!0});const s=r(7673),i=r(2194),o=r(6390),a=r(6489),c=r(8716);t.MIME_JSON=/\/(json|javascript)(\W|$)/;const h="x-c8-endpoint";t.Connection=class{constructor(e={}){if(this._activeTasks=0,this._c8Version=3e4,this._fabricName="_system",this._tenantName="_mm",this._queue=new c,this._hosts=[],this._urls=[],("string"===typeof e||Array.isArray(e))&&(e={url:e}),void 0!==e.c8Version&&(this._c8Version=e.c8Version),e.fabricName&&(this._fabricName=e.fabricName),e.isAbsolute&&(this._fabricName=!1,this._tenantName=!1),this._agent=e.agent,this._agentOptions=o.isBrowser?Object.assign({},e.agentOptions):Object.assign({maxSockets:3,keepAlive:!0,keepAliveMsecs:1e3},e.agentOptions),this._maxTasks=this._agentOptions.maxSockets||3,this._agentOptions.keepAlive&&(this._maxTasks*=2),this._headers=Object.assign({},e.headers),e.token){this._headers=Object.assign({},this._headers,{authorization:`Bearer ${e.token}`});const{tenant:t}=a(e.token);this._tenantName=t}e.apiKey&&(this._headers=Object.assign({},this._headers,{authorization:`apikey ${e.apiKey}`}),this._tenantName=this.extractTenantName(e.apiKey)),this._loadBalancingStrategy=e.loadBalancingStrategy||"NONE",this._useFailOver="ROUND_ROBIN"!==this._loadBalancingStrategy,!1===e.maxRetries?(this._shouldRetry=!1,this._maxRetries=0):(this._shouldRetry=!0,this._maxRetries=e.maxRetries||0);const t=(e.url?Array.isArray(e.url)?e.url:[e.url]:["https://test.macrometa.io"]).map((e=>`https://api-${e.split("https://")[1]}`));this.addToHostList(t),"ONE_RANDOM"===this._loadBalancingStrategy?this._activeHost=Math.floor(Math.random()*this._hosts.length):this._activeHost=0}get _fabricPath(){return!1===this._fabricName?"":`/_tenant/${this._tenantName}/_fabric/${this._fabricName}`}_runQueue(){if(!this._queue.length||this._activeTasks>=this._maxTasks)return;const e=this._queue.shift();let t=this._activeHost;void 0!==e.host?t=e.host:"ROUND_ROBIN"===this._loadBalancingStrategy&&(this._activeHost=(this._activeHost+1)%this._hosts.length),this._activeTasks+=1,this._hosts[t](e.options,((r,n)=>{if(this._activeTasks-=1,r)this._hosts.length>1&&this._activeHost===t&&this._useFailOver&&(this._activeHost=(this._activeHost+1)%this._hosts.length),!e.host&&this._shouldRetry&&e.retries<(this._maxRetries||this._hosts.length-1)&&function(e){return Object.getPrototypeOf(e)===Error.prototype&&e.hasOwnProperty("code")&&e.hasOwnProperty("errno")&&e.hasOwnProperty("syscall")}(r)&&"connect"===r.syscall&&"ECONNREFUSED"===r.code?(e.retries+=1,this._queue.push(e)):e.reject(r);else if(o.isBrowser&&this._agent){const r=n;if(503===r.status&&r.headers.get(h)){const n=r.headers.get(h),[s]=this.addToHostList(n);e.host=s,this._activeHost===t&&(this._activeHost=s),this._queue.push(e)}else r.host=t,e.resolve(r)}else{const r=n;if(503===r.statusCode&&r.headers["x-c8-endpoint"]){const n=r.headers["x-c8-endpoint"],[s]=this.addToHostList(n);e.host=s,this._activeHost===t&&(this._activeHost=s),this._queue.push(e)}else r.host=t,e.resolve(r)}this._runQueue()}))}_buildUrl({absolutePath:e=!1,basePath:t,path:r,qs:n}){let i,o="";return e||(o=this._fabricPath,t&&(o+=t)),r&&(o+=r),n&&(i="string"===typeof n?`?${n}`:`?${s.stringify(n)}`),i?{pathname:o,search:i}:{pathname:o}}_sanitizeEndpointUrl(e){return e.startsWith("tcp:")?e.replace(/^tcp:/,"http:"):e.startsWith("ssl:")?e.replace(/^ssl:/,"https:"):e}addToHostList(e){const t=(Array.isArray(e)?e:[e]).map((e=>this._sanitizeEndpointUrl(e))),r=t.filter((e=>-1===this._urls.indexOf(e)));return this._urls.push(...r),this._hosts.push(...r.map((e=>o.createRequest(e,this._agentOptions,this._agent)))),t.map((e=>this._urls.indexOf(e)))}get c8Major(){return Math.floor(this._c8Version/1e4)}getFabricName(){return this._fabricName}getTenantName(){return this._tenantName}getUrls(){return this._urls}getActiveHost(){return this._activeHost}setFabricName(e){if(!1===this._fabricName)throw new Error("Can not change fabric from absolute URL");this._fabricName=e}setTenantName(e){if(!1===this._tenantName)throw new Error("Can not change tenant from absolute URL");this._tenantName=e}setHeader(e,t){this._headers[e]=t}close(){for(const e of this._hosts)e.close&&e.close()}extractTenantName(e){let t=e.split(".");return t.splice(-2,2),t.join(".")}request(e,r){var{host:s,method:a="GET",body:c,expectBinary:h=!1,isBinary:u=!1,headers:l}=e,d=n(e,["host","method","body","expectBinary","isBinary","headers"]);return new Promise(((e,n)=>{let p="text/plain";u?p="application/octet-stream":c&&("object"===typeof c?(c=JSON.stringify(c),p="application/json"):c=String(c));const y=Object.assign({},this._headers,{"content-type":p,"x-c8-version":String(this._c8Version)});this._queue.push({retries:0,host:s,options:{url:this._buildUrl(d),headers:Object.assign({},y,l),method:a,expectBinary:h,body:c},reject:n,resolve:s=>{if(o.isBrowser&&this._agent)s.json().then((t=>{t.hasOwnProperty("error")&&t.hasOwnProperty("code")&&t.hasOwnProperty("errorMessage")&&t.hasOwnProperty("errorNum")?n(new i.C8Error({body:t})):s.status&&s.status>=400?n(new i.HttpError({body:t})):e(r?r({body:t}):{body:t})})).catch((e=>{n(e)}));else{const o=s.headers["content-type"];let c;if(s.body.length&&o&&o.match(t.MIME_JSON))try{c=s.body,c=JSON.parse(c)}catch(a){if(!h)return"string"!==typeof c&&(c=s.body.toString("utf-8")),a.response=s,void n(a)}else c=s.body&&!h?s.body.toString("utf-8"):s.body;c&&c.hasOwnProperty("error")&&c.hasOwnProperty("code")&&c.hasOwnProperty("errorMessage")&&c.hasOwnProperty("errorNum")?(s.body=c,n(new i.C8Error(s))):s.statusCode&&s.statusCode>=400?(s.body=c,n(new i.HttpError(s))):(h||(s.body=c),e(r?r(s):s))}}}),this._runQueue()}))}}},7766:function(e,t){"use strict";var r=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(s,i){function o(e){try{c(n.next(e))}catch(t){i(t)}}function a(e){try{c(n.throw(e))}catch(t){i(t)}}function c(e){e.done?s(e.value):new r((function(t){t(e.value)})).then(o,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});t.ArrayCursor=class{constructor(e,t,r){this.extra=t.extra,this._connection=e,this._result=t.result,this._hasMore=Boolean(t.hasMore),this._id=t.id,this._host=r,this.count=t.count}_drain(){return r(this,void 0,void 0,(function*(){return yield this._more(),this._hasMore?this._drain():this}))}_more(){return r(this,void 0,void 0,(function*(){if(this._hasMore){const e=yield this._connection.request({method:"PUT",path:`/cursor/${this._id}`,host:this._host});this._result.push(...e.body.result),this._hasMore=e.body.hasMore}}))}delete(){return this._connection.request({method:"DELETE",path:`/cursor/${this._id}`},(e=>e.body))}all(){return r(this,void 0,void 0,(function*(){yield this._drain();let e=this._result;return this._result=[],e}))}next(){return r(this,void 0,void 0,(function*(){for(;!this._result.length&&this._hasMore;)yield this._more();if(this._result.length)return this._result.shift()}))}hasNext(){return Boolean(this._hasMore||this._result.length)}each(e){return r(this,void 0,void 0,(function*(){let t=0;for(;this._result.length||this._hasMore;){let r;for(;this._result.length;)if(r=e(this._result.shift(),t,this),t++,!1===r)return r;this._hasMore&&(yield this._more())}return!0}))}every(e){return r(this,void 0,void 0,(function*(){let t=0;for(;this._result.length||this._hasMore;){let r;for(;this._result.length;)if(r=e(this._result.shift(),t,this),t++,!r)return!1;this._hasMore&&(yield this._more())}return!0}))}some(e){return r(this,void 0,void 0,(function*(){let t=0;for(;this._result.length||this._hasMore;){let r;for(;this._result.length;)if(r=e(this._result.shift(),t,this),t++,r)return!0;this._hasMore&&(yield this._more())}return!1}))}map(e){return r(this,void 0,void 0,(function*(){let t=0,r=[];for(;this._result.length||this._hasMore;){for(;this._result.length;)r.push(e(this._result.shift(),t,this)),t++;this._hasMore&&(yield this._more())}return r}))}reduce(e,t){return r(this,void 0,void 0,(function*(){let r=0;for(void 0===t&&(this._result.length||this._hasMore||(yield this._more()),t=this._result.shift(),r+=1);this._result.length||this._hasMore;){for(;this._result.length;)t=e(t,this._result.shift(),r,this),r++;this._hasMore&&(yield this._more())}return t}))}}},2194:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(9365),s={0:"Network Error",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"Request-URI Too Long",415:"Unsupported Media Type",416:"Requested Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",444:"Connection Closed Without Response",451:"Unavailable For Legal Reasons",499:"Client Closed Request",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",510:"Not Extended",511:"Network Authentication Required",599:"Network Connect Timeout Error"},i=["fileName","lineNumber","columnNumber","stack","description","number"];t.isC8Error=function(e){return Boolean(e&&e.isC8Error)};class o extends n.default{constructor(e){super(),this.name="C8Error",this.isC8Error=!0,this.response=e,this.statusCode=e.statusCode,this.message=e.body.errorMessage,this.errorNum=e.body.errorNum,this.code=e.body.code;const t=new Error(this.message);t.name=this.name;for(const r of i)t[r]&&(this[r]=t[r])}}t.C8Error=o;class a extends n.default{constructor(e){super(),this.name="HttpError",this.response=e,this.statusCode=e.statusCode||500,this.message=s[this.statusCode]||s[500],this.code=this.statusCode;const t=new Error(this.message);t.name=this.name;for(const r of i)t[r]&&(this[r]=t[r])}}t.HttpError=a},9095:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.OK="OK",e.WARN="WARN",e.ERROR="ERROR"}(t.Status||(t.Status={})),function(e){e.COLLECTION="COLLECTION",e.GRAPH="GRAPH",e.AUTH="AUTH",e.STREAM="STREAM",e.GEOFABRIC="GEOFABRIC"}(t.EntityType||(t.EntityType={})),function(e){e.CREATE="CREATE",e.UPDATE="UPDATE",e.DELETE="DELETE",e.EXECUTE="EXECUTE",e.LOGIN="LOGIN"}(t.ActionType||(t.ActionType={}));t.Event=class{constructor(e,t,r){this._connection=e,this.entityName=t,this.eventId=r}create(e){const{status:t,description:r,entityType:n,details:s,action:i,attributes:o}=e;return this._connection.request({method:"POST",path:"/events",body:{status:t,description:r,entityName:this.entityName,entityType:n,details:s,action:i,attributes:o}},(e=>(this.eventId=e.body._key,e.body)))}details(){if(!this.eventId)throw new Error("Event ID is not set. Either provide while creating the handler or create a new event.");return this._connection.request({method:"GET",path:`/events/${this.eventId}`},(e=>e.body))}}},7425:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(s,i){function o(e){try{c(n.next(e))}catch(t){i(t)}}function a(e){try{c(n.throw(e))}catch(t){i(t)}}function c(e){e.done?s(e.value):new r((function(t){t(e.value)})).then(o,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const s=r(9583),i=r(937),o=r(4276),a=r(7766),c=r(2194),h=r(8378),u=r(3098),l=r(8209),d=r(7494),p=r(736),y=r(9095),m=r(2679),f=r(2984);function b(e){return i.isC8Collection(e)?String(e.name):String(e)}t.Fabric=class{constructor(e){this._connection=new o.Connection(e)}get name(){return this._connection.getFabricName()||null}route(e,t){return new d.Route(this._connection,e,t)}close(){this._connection.close()}useFabric(e){return this._connection.setFabricName(e),this}useBearerAuth(e){return this._connection.setHeader("authorization",`Bearer ${e}`),this}useBasicAuth(e,t){return this._connection.setHeader("authorization",`Basic ${p.btoa(`${e}:${t}`)}`),this}get(){return this._connection.request({path:"/database/current"},(e=>e.body.result))}exists(){return this.get().then((()=>!0),(e=>{if(c.isC8Error(e)&&1228===e.errorNum)return!1;throw e}))}createFabric(e,t,r){return this._connection.request({method:"POST",path:"/database",body:{users:t||[],name:e,options:r}},(e=>e.body))}listFabrics(){return this._connection.request({path:"/database"},(e=>e.body.result))}listUserFabrics(){return this._connection.request({path:"/database/user"},(e=>e.body.result))}dropFabric(e){return this._connection.request({method:"DELETE",path:`/database/${e}`},(e=>e.body))}login(e,t){return this._connection.request({method:"POST",path:"/_open/auth",body:{email:e,password:t},absolutePath:!0},(e=>(this.useBearerAuth(e.body.jwt),this.useTenant(e.body.tenant),e.body)))}updateFabricSpotRegion(e,t,r=""){return this._connection.request({method:"PUT",path:`_tenant/${e}/_fabric/${t}/database/${r}`,absolutePath:!0},(e=>e.body))}getEvents(){return this._connection.request({method:"GET",path:"/events"},(e=>e.body))}deleteEvents(e){return this._connection.request({method:"DELETE",path:"/events",body:JSON.stringify(e)},(e=>e.body))}event(e,t){return new y.Event(this._connection,e,t)}collection(e){return new i.DocumentCollection(this._connection,e)}edgeCollection(e){return new i.EdgeCollection(this._connection,e)}listCollections(e=!0){return this._connection.request({path:"/collection",qs:{excludeSystem:e}},(e=>this._connection.c8Major<=2?e.body.collections:e.body.result))}collections(e=!0){return n(this,void 0,void 0,(function*(){return(yield this.listCollections(e)).map((e=>i.constructCollection(this._connection,e)))}))}truncate(e=!0){return n(this,void 0,void 0,(function*(){const t=yield this.listCollections(e);return yield Promise.all(t.map((e=>this._connection.request({method:"PUT",path:`/collection/${e.name}/truncate`},(e=>e.body)))))}))}graph(e){return new h.Graph(this._connection,e)}listGraphs(){return this._connection.request({path:"/_api/graph"},(e=>e.body.graphs))}graphs(){return n(this,void 0,void 0,(function*(){return(yield this.listGraphs()).map((e=>this.graph(e._key)))}))}transaction(e,t,r,n){return"number"===typeof r&&(n=r,r=void 0),"number"===typeof n&&(n={lockTimeout:n}),"string"===typeof e?e={write:[e]}:Array.isArray(e)?e={write:e.map(b)}:i.isC8Collection(e)?e={write:b(e)}:e&&"object"===typeof e&&((e=Object.assign({},e)).read&&(Array.isArray(e.read)?e.read=e.read.map(b):e.read=b(e.read)),e.write&&(Array.isArray(e.write)?e.write=e.write.map(b):e.write=b(e.write))),this._connection.request({method:"POST",path:"/transaction",body:Object.assign({collections:e,action:t,params:r},n)},(e=>e.body.result))}query(e,t,r){return s.isC8QLQuery(e)?(r=t,t=e.bindVars,e=e.query):s.isC8QLLiteral(e)&&(e=e.toC8QL()),this._connection.request({method:"POST",path:"/cursor",body:Object.assign({},r,{query:e,bindVars:t})},(e=>new a.ArrayCursor(this._connection,e.body,e.host)))}validateQuery(e){return this._connection.request({method:"POST",path:"/query",body:{query:e}},(e=>e.body))}explainQuery(e){return this._connection.request({method:"POST",path:"/_api/explain",body:Object.assign({},e)},(e=>e.body))}getCurrentQueries(){return this._connection.request({path:"/query/current"},(e=>e.body))}clearSlowQueries(){return this._connection.request({method:"DELETE",path:"/query/slow"},(e=>e.body))}getSlowQueries(){return this._connection.request({path:"/query/slow"},(e=>e.body))}terminateRunningQuery(e){return this._connection.request({method:"DELETE",path:`/query/${e}`},(e=>e.body))}listFunctions(){return this._connection.request({path:"/c8qlfunction"},(e=>e.body))}createFunction(e,t,r){return this._connection.request({method:"POST",path:"/c8qlfunction",body:{name:e,code:t,isDeterministic:r}},(e=>e.body))}dropFunction(e,t){const r="boolean"===typeof t?`/c8qlfunction/${e}?group=${t}`:`/c8qlfunction/${e}`;return this._connection.request({method:"DELETE",path:r},(e=>e.body))}version(e=!1){return this._connection.request({method:"GET",path:`/_fabric/${this._connection.getFabricName()}/_api/version`,absolutePath:!0,qs:{details:e}},(e=>e.body))}useTenant(e){return this._connection.setTenantName(e),this}tenant(e,t){return new u.Tenant(this._connection,e,t)}listTenants(){return this._connection.request({method:"GET",path:"/tenants",absolutePath:!0},(e=>e.body))}stream(e,t,r=!1){return new l.Stream(this._connection,e,t,r)}getStreams(e){return this._connection.request({method:"GET",path:"/streams",qs:void 0===e?"":`global=${e}`},(e=>e.body))}getAllStreams(){return this._connection.request({method:"GET",path:"/streams"},(e=>e.body))}listPersistentStreams(e=!1){return this._connection.request({method:"GET",path:"/streams/persistent",qs:`local=${e}`},(e=>e.body))}clearBacklog(){return this._connection.request({method:"POST",path:"/streams/clearbacklog"},(e=>e.body))}clearSubscriptionBacklog(e){return this._connection.request({method:"POST",path:`/streams/clearbacklog/${e}`},(e=>e.body))}unsubscribe(e){return this._connection.request({method:"POST",path:`/streams/unsubscribe/${e}`},(e=>e.body))}getAllEdgeLocations(){return this._connection.request({method:"GET",path:"/datacenter/all",absolutePath:!0},(e=>e.body))}getTenantEdgeLocations(){return this._connection.request({method:"GET",path:`/datacenter/_tenant/${this._connection.getTenantName()}`,absolutePath:!0},(e=>e.body))}getLocalEdgeLocation(){return this._connection.request({method:"GET",path:"/datacenter/local",absolutePath:!0},(e=>e.body))}changeEdgeLocationSpotStatus(e,t){return this._connection.request({method:"PUT",path:`_api/datacenter/${e}/${t}`,absolutePath:!0},(e=>e.body))}user(e,t=""){return new m.default(this._connection,e,t)}getAllUsers(){return this._connection.request({method:"GET",path:"/_admin/user"},(e=>e.body))}listSavedQueries(){return this._connection.request({method:"GET",path:"/restql/user"},(e=>e.body))}saveQuery(e,t={},r){try{if(e.includes(" "))throw"Spaces are not allowed in query name";return this._connection.request({method:"POST",path:"/restql",body:{query:{name:e,parameter:t,value:r}}},(e=>e.body))}catch(n){return n}}executeSavedQuery(e,t={}){return this._connection.request({method:"POST",path:`/restql/execute/${e}`,body:{bindVars:t}},(e=>e.body))}updateSavedQuery(e,t={},r){return this._connection.request({method:"PUT",path:`/restql/${e}`,body:{query:{parameter:t,value:r}}},(e=>e.body))}deleteSavedQuery(e){return this._connection.request({method:"DELETE",path:`/restql/${e}`},(e=>e.body))}createRestqlCursor(e,t={}){return this._connection.request({method:"POST",path:"/restql/dynamic",body:{bindVars:[t],cache:!0,count:!0,options:{profile:!0},query:e}},(e=>e.body))}streamApp(e){return new f.Streamapps(this._connection,e)}createStreamApp(e,t){return this._connection.request({method:"POST",path:"/_api/streamapps",body:JSON.stringify({definition:t,regions:e})},(e=>e.body))}getAllStreamApps(){return this._connection.request({method:"GET",path:"/_api/streamapps"},(e=>e.body))}validateStreamappDefinition(e){return this._connection.request({method:"POST",path:"/_api/streamapps/validate",body:{definition:e}},(e=>e.body))}getSampleStreamApps(){return this._connection.request({method:"GET",path:"/_api/streamapps/samples"},(e=>e.body))}}},8378:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(s,i){function o(e){try{c(n.next(e))}catch(t){i(t)}}function a(e){try{c(n.throw(e))}catch(t){i(t)}}function c(e){e.done?s(e.value):new r((function(t){t(e.value)})).then(o,a)}c((n=n.apply(e,t||[])).next())}))},s=this&&this.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var s=0;for(n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&(r[n[s]]=e[n[s]])}return r};Object.defineProperty(t,"__esModule",{value:!0});const i=r(937),o=r(2194);class a extends i.BaseCollection{constructor(e,t,r){super(e,t),this.type=i.CollectionType.DOCUMENT_COLLECTION,this.graph=r}document(e,t=!1){const r=this._connection.request({path:`/_api/graph/${this.graph.name}/vertex/${this._documentHandle(e)}`},(e=>e.body.vertex));return t?r.catch((e=>{if(o.isC8Error(e)&&e.errorNum===i.DOCUMENT_NOT_FOUND)return null;throw e})):r}vertex(e,t=!1){return this.document(e,t)}save(e,t){return this._connection.request({method:"POST",path:`/_api/graph/${this.graph.name}/vertex/${this.name}`,body:e,qs:t},(e=>e.body.vertex))}replace(e,t,r={}){var n;const i={};if("string"===typeof r&&(r={rev:r}),r.rev){let e;n=r,({rev:e}=n),r=s(n,["rev"]),i["if-match"]=e}return this._connection.request({method:"PUT",path:`/_api/graph/${this.graph.name}/vertex/${this._documentHandle(e)}`,body:t,qs:r,headers:i},(e=>e.body.vertex))}update(e,t,r={}){var n;const i={};if("string"===typeof r&&(r={rev:r}),r.rev){let e;n=r,({rev:e}=n),r=s(n,["rev"]),i["if-match"]=e}return this._connection.request({method:"PATCH",path:`/_api/graph/${this.graph.name}/vertex/${this._documentHandle(e)}`,body:t,qs:r,headers:i},(e=>e.body.vertex))}remove(e,t={}){var r;const n={};if("string"===typeof t&&(t={rev:t}),t.rev){let e;r=t,({rev:e}=r),t=s(r,["rev"]),n["if-match"]=e}return this._connection.request({method:"DELETE",path:`/_api/graph/${this.graph.name}/vertex/${this._documentHandle(e)}`,qs:t,headers:n},(e=>e.body.removed))}}t.GraphVertexCollection=a;class c extends i.EdgeCollection{constructor(e,t,r){super(e,t),this.type=i.CollectionType.EDGE_COLLECTION,this.type=i.CollectionType.EDGE_COLLECTION,this.graph=r}document(e,t=!1){const r=this._connection.request({path:`/_api/graph/${this.graph.name}/edge/${this._documentHandle(e)}`},(e=>e.body.edge));return t?r.catch((e=>{if(o.isC8Error(e)&&e.errorNum===i.DOCUMENT_NOT_FOUND)return null;throw e})):r}save(e,t,r,n){return void 0!==t&&(void 0!==r?(e._from=this._documentHandle(t),e._to=this._documentHandle(r)):n=t),this._connection.request({method:"POST",path:`/_api/graph/${this.graph.name}/edge/${this.name}`,body:e,qs:n},(e=>e.body.edge))}replace(e,t,r={}){var n;const i={};if("string"===typeof r&&(r={rev:r}),r.rev){let e;n=r,({rev:e}=n),r=s(n,["rev"]),i["if-match"]=e}return this._connection.request({method:"PUT",path:`/_api/graph/${this.graph.name}/edge/${this._documentHandle(e)}`,body:t,qs:r,headers:i},(e=>e.body.edge))}update(e,t,r={}){var n;const i={};if("string"===typeof r&&(r={rev:r}),r.rev){let e;n=r,({rev:e}=n),r=s(n,["rev"]),i["if-match"]=e}return this._connection.request({method:"PATCH",path:`/_api/graph/${this.graph.name}/edge/${this._documentHandle(e)}`,body:t,qs:r,headers:i},(e=>e.body.edge))}remove(e,t={}){var r;const n={};if("string"===typeof t&&(t={rev:t}),t.rev){let e;r=t,({rev:e}=r),t=s(r,["rev"]),n["if-match"]=e}return this._connection.request({method:"DELETE",path:`/_api/graph/${this.graph.name}/edge/${this._documentHandle(e)}`,qs:t,headers:n},(e=>e.body.removed))}}t.GraphEdgeCollection=c;t.Graph=class{constructor(e,t){this.name=t,this._connection=e}get(){return this._connection.request({path:`/_api/graph/${this.name}`},(e=>e.body.graph))}exists(){return this.get().then((()=>!0),(e=>{if(o.isC8Error(e)&&1924===e.errorNum)return!1;throw e}))}create(e={}){return this._connection.request({method:"POST",path:"/_api/graph",body:Object.assign({},e,{name:this.name})},(e=>e.body.graph))}drop(e=!1){return this._connection.request({method:"DELETE",path:`/_api/graph/${this.name}`,qs:{dropCollections:e}},(e=>e.body.removed))}vertexCollection(e){return new a(this._connection,e,this)}listVertexCollections(){return this._connection.request({path:`/_api/graph/${this.name}/vertex`},(e=>e.body.collections))}vertexCollections(){return n(this,void 0,void 0,(function*(){return(yield this.listVertexCollections()).map((e=>new a(this._connection,e,this)))}))}addVertexCollection(e){return i.isC8Collection(e)&&(e=e.name),this._connection.request({method:"POST",path:`/_api/graph/${this.name}/vertex`,body:{collection:e}},(e=>e.body.graph))}removeVertexCollection(e,t=!1){return i.isC8Collection(e)&&(e=e.name),this._connection.request({method:"DELETE",path:`/_api/graph/${this.name}/vertex/${e}`,qs:{dropCollection:t}},(e=>e.body.graph))}edgeCollection(e){return new c(this._connection,e,this)}listEdgeCollections(){return this._connection.request({path:`/_api/graph/${this.name}/edge`},(e=>e.body.collections))}edgeCollections(){return n(this,void 0,void 0,(function*(){return(yield this.listEdgeCollections()).map((e=>new c(this._connection,e,this)))}))}addEdgeDefinition(e){return this._connection.request({method:"POST",path:`/_api/graph/${this.name}/edge`,body:e},(e=>e.body.graph))}replaceEdgeDefinition(e,t){return this._connection.request({method:"PUT",path:`/_api/graph/${this.name}/edge/${e}`,body:t},(e=>e.body.graph))}removeEdgeDefinition(e,t=!1){return this._connection.request({method:"DELETE",path:`/_api/graph/${this.name}/edge/${e}`,qs:{dropCollection:t}},(e=>e.body.graph))}}},5615:function(e,t,r){"use strict";e.exports=r(9197).default,e.exports.default=e.exports,Object.defineProperty(e.exports,"__esModule",{value:!0})},9197:function(e,t,r){"use strict";const n=r(9583);n.c8ql;const s=r(937);s.BaseCollection;const i=r(7425);i.Fabric;const o=r(2194);r(7766).ArrayCursor;const a=r(1599);function c(e){return new a.C8Client(e)}a.C8Client,t.default=c,Object.assign(c,{CollectionType:s.CollectionType,C8Error:o.C8Error,Fabric:i.Fabric,c8ql:n.c8ql,C8Client:a.C8Client});var h=r(937);h.DocumentCollection,h.EdgeCollection,r(8378).Graph,r(3098).Tenant,r(8209).Stream,r(2984).Streamapps},190:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.KeyValue=class{constructor(e,t){this._connection=e,this.name=t}getCollections(){return this._connection.request({method:"GET",path:"/_api/kv"},(e=>e.body))}getKVCount(){return this._connection.request({method:"GET",path:`/_api/kv/${this.name}/count`},(e=>e.body))}getKVKeys(e={}){return this._connection.request({method:"GET",path:`/_api/kv/${this.name}/keys`,qs:Object.assign({},e)},(e=>e.body))}getValueForKey(e){return this._connection.request({method:"GET",path:`/_api/kv/${this.name}/value/${e}`},(e=>e.body))}createCollection(e=!1){return this._connection.request({method:"POST",path:`/_api/kv/${this.name}`,qs:{expiration:e}},(e=>e.body))}deleteCollection(){return this._connection.request({method:"DELETE",path:`/_api/kv/${this.name}`},(e=>e.body))}deleteEntryForKey(e){return this._connection.request({method:"DELETE",path:`/_api/kv/${this.name}/value/${e}`},(e=>e.body))}deleteEntryForKeys(e){return this._connection.request({method:"DELETE",path:`/_api/kv/${this.name}/values`,body:e},(e=>e.body))}insertKVPairs(e){return this._connection.request({method:"PUT",path:`/_api/kv/${this.name}/value`,body:e},(e=>e.body))}}},7494:function(e,t){"use strict";var r=this&&this.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var s=0;for(n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&(r[n[s]]=e[n[s]])}return r};Object.defineProperty(t,"__esModule",{value:!0});class n{constructor(e,t="",r={}){t?"/"!==t.charAt(0)&&(t=`/${t}`):t="",this._connection=e,this._path=t,this._headers=r}route(e,t){return e?"/"!==e.charAt(0)&&(e=`/${e}`):e="",new n(this._connection,this._path+e,Object.assign({},this._headers,t))}request(e){var{method:t,path:n,headers:s={}}=e,i=r(e,["method","path","headers"]);return n?this._path&&"/"!==n.charAt(0)?i.path=`/${n}`:i.path=n:i.path="",i.basePath=this._path,i.headers=Object.assign({},this._headers,s),i.method=t?t.toUpperCase():"GET",this._connection.request(i)}_request1(e,...t){let r,n,s="";return void 0!==t[0]&&"string"!==typeof t[0]||(s=t.shift()),void 0!==t[0]&&"object"!==typeof t[0]||(r=t.shift()),void 0!==t[0]&&"object"!==typeof t[0]||(n=t.shift()),this.request({method:e,path:s,qs:r,headers:n})}_request2(e,...t){let r,n,s,i="";return void 0!==t[0]&&"string"!==typeof t[0]||(i=t.shift()),r=t.shift(),void 0!==t[0]&&"object"!==typeof t[0]||(n=t.shift()),void 0!==t[0]&&"object"!==typeof t[0]||(s=t.shift()),this.request({method:e,path:i,body:r,qs:n,headers:s})}delete(...e){return this._request1("DELETE",...e)}get(...e){return this._request1("GET",...e)}head(...e){return this._request1("HEAD",...e)}patch(...e){return this._request2("PATCH",...e)}post(...e){return this._request2("POST",...e)}put(...e){return this._request2("PUT",...e)}}t.Route=n},8095:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.Search=class{constructor(e,t){this.viewUrlPrefix="/_api/search/view",this.analyzerUrlPrefix="/_api/search/analyzer",this._connection=e,this._viewName=t&&t.viewName||"",this._analyzerName=t&&t.analyzerName||""}setSearch(e,t,r){return this._connection.request({method:"POST",path:`/_api/search/collection/${e}`,qs:{enable:t,field:r},absolutePath:!0,body:{}},(e=>e.body))}searchInCollection(e,t,r={},n=60){return this._connection.request({method:"POST",path:"/_api/search",body:{collection:e,search:t,bindVars:r,ttl:n},absolutePath:!0},(e=>e.body))}getListOfViews(){return this._connection.request({method:"GET",path:`${this.viewUrlPrefix}`,absolutePath:!0},(e=>e.body))}createView(e={}){return this._connection.request({method:"POST",path:`${this.viewUrlPrefix}`,body:{type:"search",name:this._viewName,properties:e},absolutePath:!0},(e=>e.body))}getViewInfo(){return this._connection.request({method:"GET",path:`${this.viewUrlPrefix}/${this._viewName}`,absolutePath:!0},(e=>e.body))}renameView(e){return this._connection.request({method:"PUT",path:`${this.viewUrlPrefix}/${this._viewName}/rename`,absolutePath:!0,body:{name:e}},(e=>e.body))}deleteView(){return this._connection.request({method:"DELETE",path:`${this.viewUrlPrefix}/${this._viewName}`,absolutePath:!0},(e=>e.body))}getViewProperties(){return this._connection.request({method:"GET",path:`${this.viewUrlPrefix}/${this._viewName}/properties`,absolutePath:!0},(e=>e.body))}updateViewProperties(e){return this._connection.request({method:"PUT",path:`${this.viewUrlPrefix}/${this._viewName}/properties`,absolutePath:!0,body:e},(e=>e.body))}getListOfAnalyzers(){return this._connection.request({method:"GET",path:`${this.analyzerUrlPrefix}`,absolutePath:!0},(e=>e.body))}createAnalyzer(e,t,r){return this._connection.request({method:"POST",path:`${this.analyzerUrlPrefix}`,body:{name:this._analyzerName,type:e,features:r,properties:t},absolutePath:!0},(e=>e.body))}getAnalyzerDefinition(){return this._connection.request({method:"GET",path:`${this.analyzerUrlPrefix}/${this._analyzerName}`,absolutePath:!0},(e=>e.body))}deleteAnalyzer(e=!1){return this._connection.request({method:"DELETE",path:`${this.analyzerUrlPrefix}/${this._analyzerName}`,qs:{force:e},absolutePath:!0},(e=>e.body))}}},8209:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(5192),s=r(7563),i=r(6109);var o;!function(e){e.PERSISTENT="persistent"}(o=t.StreamConstants||(t.StreamConstants={}));t.Stream=class{constructor(e,t,r=!1,n=!1){this._connection=e,this.isCollectionStream=n,this.global=!r,this.name=t;let s=this.name;this.isCollectionStream||(s=this.global?`c8globals.${this.name}`:`c8locals.${this.name}`),this.topic=s}_getPath(e,t){let r=e?this.name:this.topic;return n.getFullStreamPath(r,t)}getOtp(){return this._connection.request({method:"POST",path:"/apid/otp",absolutePath:!0},(e=>e.body.otp))}createStream(){return this._connection.request({method:"POST",path:this._getPath(!0),qs:`global=${this.global}`},(e=>e.body))}backlog(){return this._connection.request({method:"GET",path:this._getPath(!1,"/backlog"),qs:`global=${this.global}`},(e=>e.body))}clearBacklog(){return this._connection.request({method:"POST",path:this._getPath(!1,"/clearbacklog"),qs:`global=${this.global}`},(e=>e.body))}getStreamStatistics(){return this._connection.request({method:"GET",path:this._getPath(!1,"/stats"),qs:`global=${this.global}`},(e=>e.body))}deleteSubscription(e){const t=`/subscription/${e}`;return this._connection.request({method:"DELETE",path:this._getPath(!1,t),qs:`global=${this.global}`},(e=>e.body))}expireMessages(e){const t=`/expiry/${e}`;return this._connection.request({method:"POST",path:this._getPath(!1,t),qs:`global=${this.global}`},(e=>e.body))}clearSubscriptionBacklog(e){const t=`/clearbacklog/${e}`;return this._connection.request({method:"POST",path:this._getPath(!1,t),qs:`global=${this.global}`},(e=>e.body))}getSubscriptionList(){return this._connection.request({method:"GET",path:this._getPath(!1,"/subscriptions"),qs:`global=${this.global}`},(e=>e.body))}deleteStream(e=!1){return this._connection.request({method:"DELETE",path:this._getPath(!1),qs:`global=${this.global}&force=${e}`},(e=>e.body))}consumer(e,t,r={}){const n=t.toLocaleLowerCase();if(n.includes("http")||n.includes("https"))throw"Invalid DC name";const a=o.PERSISTENT,c=this.global?"c8global":"c8local",h=this._connection.getTenantName(),u=s.stringify(r);let l=this._connection.getFabricName();if(!l||!h)throw"Set correct DB and/or tenant name before using.";let d=`wss://api-${t}/_ws/ws/v2/consumer/${a}/${h}/${c}.${l}/${this.topic}/${e}`;return d=`${d}?${u}`,i.ws(d)}producer(e,t={}){if(!e)throw"DC name not provided to establish producer connection";const r=e.toLocaleLowerCase();if(r.includes("http")||r.includes("https"))throw"Invalid DC name";const n=o.PERSISTENT,a=this.global?"c8global":"c8local",c=this._connection.getTenantName(),h=s.stringify(t);let u=this._connection.getFabricName();if(!u||!c)throw"Set correct DB and/or tenant name before using.";let l=`wss://api-${e}/_ws/ws/v2/producer/${n}/${c}/${a}.${u}/${this.topic}`;return l=`${l}?${h}`,i.ws(l)}publishMessage(e){return this._connection.request({method:"POST",path:this._getPath(!1,"/publish"),qs:`global=${this.global}`,body:e},(e=>e.body))}getMessageTtl(){return this._connection.request({method:"GET",path:"/_api/streams/ttl"},(e=>e.body))}setMessageTtl(e=3600){return this._connection.request({method:"POST",path:`/_api/streams/ttl/${e}`},(e=>e.body))}deleteSubscriptions(e){const t=`/subscriptions/${e}`;return this._connection.request({method:"DELETE",path:this._getPath(!1,t),qs:`global=${this.global}`},(e=>e.body))}}},2984:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.Streamapps=class{constructor(e,t){this._connection=e,this.name=t}retriveApplication(){return this._connection.request({method:"GET",path:`/_api/streamapps/${this.name}`},(e=>e.body))}updateApplication(e,t){return this._connection.request({method:"PUT",path:`/_api/streamapps/${this.name}`,body:JSON.stringify({definition:t,regions:e})},(e=>e.body))}deleteApplication(){return this._connection.request({method:"DELETE",path:`/_api/streamapps/${this.name}`},(e=>e.body))}activateStreamApplication(e){return this._connection.request({method:"PATCH",path:`/_api/streamapps/${this.name}/active?active=${e}`},(e=>e.body))}query(e){return this._connection.request({method:"POST",path:`/_api/streamapps/query/${this.name}`,body:{query:e}},(e=>e.body))}}},3098:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.Tenant=class{constructor(e,t,r){this._connection=e,this.name=r,this.email=t}createTenant(e,t,r={}){return this._connection.request({method:"POST",path:"/tenant",absolutePath:!0,body:{dcList:Array.isArray(t)?t.join(","):t,email:this.email,passwd:e,extra:r}},(e=>(this.name=e.body.tenant,e.body)))}dropTenant(){return this._connection.request({method:"DELETE",path:`/tenant/${this.name}`,absolutePath:!0},(e=>e.body))}getTenantEdgeLocations(){return this._connection.request({method:"GET",path:`/datacenter/_tenant/${this.name}`,absolutePath:!0},(e=>e.body))}tenantDetails(){return this._connection.request({method:"GET",path:`/tenant/${this.name}`,absolutePath:!0},(e=>e.body))}modifyTenant(e,t){return this._connection.request({method:"PATCH",path:`/tenant/${this.name}`,absolutePath:!0,body:{extra:t,passwd:e}},(e=>e.body))}}},2679:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(2194);t.USER_NOT_FOUND=1703;t.default=class{constructor(e,t,r=""){this.user="",this.urlPrefix="/_admin/user",this.user=t,this._connection=e,this.email=r}createUser(e="",t=!0,r={}){return this._connection.request({method:"POST",path:this.urlPrefix,body:{user:this.user,email:this.email,passwd:e,active:t,extra:r}},(e=>e.body))}getUserDeatils(){return this._connection.request({method:"GET",path:`${this.urlPrefix}/${this.user}`},(e=>e.body))}hasUser(){return this.getUserDeatils().then((()=>!0),(e=>{if(n.isC8Error(e)&&e.errorNum===t.USER_NOT_FOUND)return!1;throw e}))}deleteUser(){return this._connection.request({method:"DELETE",path:`${this.urlPrefix}/${this.user}`},(e=>e.body))}_makeModification(e,t){return this._connection.request({method:t,path:`${this.urlPrefix}/${this.user}`,body:Object.assign({},e)},(e=>e.body))}modifyUser(e){return this._makeModification(e,"PATCH")}replaceUser(e){return this._makeModification(e,"PUT")}getAllDatabases(e=!1){return this._connection.request({method:"GET",path:`${this.urlPrefix}/${this.user}/database`,qs:{full:e}},(e=>e.body))}getDatabaseAccessLevel(e){return this._connection.request({method:"GET",path:`${this.urlPrefix}/${this.user}/database/${e}`},(e=>e.body))}clearDatabaseAccessLevel(e){return this._connection.request({method:"DELETE",path:`${this.urlPrefix}/${this.user}/database/${e}`},(e=>e.body))}setDatabaseAccessLevel(e,t){return this._connection.request({method:"PUT",path:`${this.urlPrefix}/${this.user}/database/${e}`,body:{grant:t}},(e=>e.body))}getCollectionAccessLevel(e,t){return this._connection.request({method:"GET",path:`${this.urlPrefix}/${this.user}/database/${e}/collection/${t}`},(e=>e.body))}clearCollectionAccessLevel(e,t){return this._connection.request({method:"DELETE",path:`${this.urlPrefix}/${this.user}/database/${e}/collection/${t}`},(e=>e.body))}setCollectionAccessLevel(e,t,r){return this._connection.request({method:"PUT",path:`${this.urlPrefix}/${this.user}/database/${e}/collection/${t}`,body:{grant:r}},(e=>e.body))}listAvailableUsers(){return this._connection.request({method:"GET",path:`${this.urlPrefix}`},(e=>e.body))}getStreamAccessLevel(e,t){return this._connection.request({method:"GET",path:`${this.urlPrefix}/${this.user}/database/${e}/stream/${t}`},(e=>e.body))}clearStreamAccessLevel(e,t){return this._connection.request({method:"DELETE",path:`${this.urlPrefix}/${this.user}/database/${e}/stream/${t}`},(e=>e.body))}setStreamAccessLevel(e,t,r){return this._connection.request({method:"PUT",path:`${this.urlPrefix}/${this.user}/database/${e}/stream/${t}`,body:{grant:r}},(e=>e.body))}listAccessibleCollections(e,t=!1){return this._connection.request({method:"GET",path:`${this.urlPrefix}/${this.user}/database/${e}/collection`,qs:{full:t}},(e=>e.body))}listAccessibleStreams(e,t=!1){return this._connection.request({method:"GET",path:`${this.urlPrefix}/${this.user}/database/${e}/stream`,qs:{full:t}},(e=>e.body))}getBillingAccessLevel(){return this._connection.request({method:"GET",path:`${this.urlPrefix}/${this.user}/billing`},(e=>e.body))}clearBillingAccessLevel(){return this._connection.request({method:"DELETE",path:`${this.urlPrefix}/${this.user}/billing`},(e=>e.body))}setBillingAccessLevel(e){return this._connection.request({method:"PUT",path:`${this.urlPrefix}/${this.user}/billing`,body:{grant:e}},(e=>e.body))}}},736:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.btoa=function(e){return window.btoa(e)}},9365:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});let n=r(7216);n=n.default||n,t.default=n},5192:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getFullStreamPath=function(e,t){const r=`/streams/${e}`;return t?`${r}${t}`:r},t.getDCListString=function(e){return e.reduce(((e,t,r)=>r>0?`${e},${t.name}`:t.name),"")}},6162:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(6470);t.joinPath=n.join},6390:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(861),s=r(6162),i=r(5244),o=r(4276);t.isBrowser=!0,t.createRequest=function(e,t,r){const a=n.parse(e),c=function(e,t){const r={};for(const n of Object.keys(e))t.includes(n)||(r[n]=e[n]);return r}(t,["keepAlive","keepAliveMsecs","maxSockets"]);return function({method:e,url:t,headers:h,body:u,expectBinary:l},d){const p=Object.assign({},a,{pathname:t.pathname?a.pathname?s.joinPath(a.pathname,t.pathname):t.pathname:a.pathname,search:t.search?a.search?`${a.search}&${t.search.slice(1)}`:t.search:a.search});let y=(e,t)=>{y=()=>{},d(e,t)};if(r){const t=r(n.format(p),Object.assign({},c,{body:u,method:e,headers:h})).then((e=>{if(e.headers.get("content-type").match(o.MIME_JSON))return e;throw e})).then((e=>{y(null,e)})).catch((e=>{const r={};r.request=t,e.status&&(r.status=e.status),e.statusText&&(r.statusText=e.statusText),y(r)}))}else{const t=i.default(Object.assign({responseType:l?"blob":"text"},c,{url:n.format(p),useXDR:!0,body:u,method:e,headers:h}),((e,r)=>{if(e){const r=e;r.request=t,y(r)}else r.body||(r.body=""),y(null,r)}))}}}},6109:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ws=function(e){const t=new WebSocket(e);return{on:function(e,r){const n=e=>r(e);switch(e){case"open":t.onopen=n;break;case"close":t.onclose=n;break;case"error":t.onerror=n;break;case"message":t.onmessage=e=>r(e.data)}},send:function(e){t.send(e)},terminate:function(e,r){t.close(e,r)},getConnection:function(){return t}}}},5244:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=r(1875)},1168:function(e){function t(e){this.message=e}t.prototype=new Error,t.prototype.name="InvalidCharacterError",e.exports="undefined"!==typeof window&&window.atob&&window.atob.bind(window)||function(e){var r=String(e).replace(/=+$/,"");if(r.length%4==1)throw new t("'atob' failed: The string to be decoded is not correctly encoded.");for(var n,s,i=0,o=0,a="";s=r.charAt(o++);~s&&(n=i%4?64*n+s:s,i++%4)?a+=String.fromCharCode(255&n>>(-2*i&6)):0)s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(s);return a}},4491:function(e,t,r){var n=r(1168);e.exports=function(e){var t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw"Illegal base64url string!"}try{return function(e){return decodeURIComponent(n(e).replace(/(.)/g,(function(e,t){var r=t.charCodeAt(0).toString(16).toUpperCase();return r.length<2&&(r="0"+r),"%"+r})))}(t)}catch(r){return n(t)}}},6489:function(e,t,r){"use strict";var n=r(4491);function s(e){this.message=e}s.prototype=new Error,s.prototype.name="InvalidTokenError",e.exports=function(e,t){if("string"!==typeof e)throw new s("Invalid token specified");var r=!0===(t=t||{}).header?0:1;try{return JSON.parse(n(e.split(".")[r]))}catch(i){throw new s("Invalid token specified: "+i.message)}},e.exports.InvalidTokenError=s},8716:function(e){function t(e,t,r){this.next=r,r&&(r.prev=this),this.prev=t,t&&(t.next=this),this.data=e}e.exports=function(){Object.defineProperty(this,"_head",{value:void 0,writable:!0,enumerable:!1,configurable:!1}),Object.defineProperty(this,"_tail",{value:void 0,writable:!0,enumerable:!1,configurable:!1}),Object.defineProperty(this,"_next",{value:void 0,writable:!0,enumerable:!1,configurable:!1}),Object.defineProperty(this,"_length",{value:0,writable:!0,enumerable:!1,configurable:!1})},e.exports.prototype.__defineGetter__("head",(function(){return this._head&&this._head.data})),e.exports.prototype.__defineGetter__("tail",(function(){return this._tail&&this._tail.data})),e.exports.prototype.__defineGetter__("current",(function(){return this._current&&this._current.data})),e.exports.prototype.__defineGetter__("length",(function(){return this._length})),e.exports.prototype.push=function(e){this._tail=new t(e,this._tail),0===this._length&&(this._head=this._tail,this._current=this._head,this._next=this._head),this._length++},e.exports.prototype.pop=function(){var e=this._tail;if(0!==this._length)return this._length--,0===this._length?(this._head=this._tail=this._current=this._next=void 0,e.data):(this._tail=e.prev,this._tail.next=void 0,this._current===e&&(this._current=this._tail,this._next=void 0),e.data)},e.exports.prototype.shift=function(){var e=this._head;if(0!==this._length)return this._length--,0===this._length?(this._head=this._tail=this._current=this._next=void 0,e.data):(this._head=this._head.next,this._current===e&&(this._current=this._head,this._next=this._current.next),e.data)},e.exports.prototype.unshift=function(e){this._head=new t(e,void 0,this._head),0===this._length&&(this._tail=this._head,this._next=this._head),this._length++},e.exports.prototype.unshiftCurrent=function(){var e=this._current;return e===this._head||this._length<2?e&&e.data:(e===this._tail?(this._tail=e.prev,this._tail.next=void 0,this._current=this._tail):(e.next.prev=e.prev,e.prev.next=e.next,this._current=e.prev),this._next=this._current.next,e.next=this._head,e.prev=void 0,this._head.prev=e,this._head=e,e.data)},e.exports.prototype.removeCurrent=function(e){var t=this._current;if(0!==this._length)return this._length--,0===this._length?(this._head=this._tail=this._current=this._next=void 0,t.data):(t===this._tail?(this._tail=t.prev,this._tail.next=void 0,this._current=this._tail):t===this._head?(this._head=t.next,this._head.prev=void 0,this._current=this._head):(t.next.prev=t.prev,t.prev.next=t.next,this._current=t.prev),this._next=this._current.next,t.data)},e.exports.prototype.next=function(){var e=this._next;if(void 0!==e)return this._next=e.next,this._current=e,e.data},e.exports.prototype.resetCursor=function(){return this._current=this._next=this._head,this}},861:function(e,t,r){var n,s=(n=r(7673))&&"object"==typeof n&&"default"in n?n.default:n,i=/https?|ftp|gopher|file/;function o(e){"string"==typeof e&&(e=g(e));var t=function(e,t,r){var n=e.auth,s=e.hostname,i=e.protocol||"",o=e.pathname||"",a=e.hash||"",c=e.query||"",h=!1;n=n?encodeURIComponent(n).replace(/%3A/i,":")+"@":"",e.host?h=n+e.host:s&&(h=n+(~s.indexOf(":")?"["+s+"]":s),e.port&&(h+=":"+e.port)),c&&"object"==typeof c&&(c=t.encode(c));var u=e.search||c&&"?"+c||"";return i&&":"!==i.substr(-1)&&(i+=":"),e.slashes||(!i||r.test(i))&&!1!==h?(h="//"+(h||""),o&&"/"!==o[0]&&(o="/"+o)):h||(h=""),a&&"#"!==a[0]&&(a="#"+a),u&&"?"!==u[0]&&(u="?"+u),{protocol:i,host:h,pathname:o=o.replace(/[?#]/g,encodeURIComponent),search:u=u.replace("#","%23"),hash:a}}(e,s,i);return""+t.protocol+t.host+t.pathname+t.search+t.hash}var a="http://",c="w.w",h=a+c,u=/^([a-z0-9.+-]*:\/\/\/)([a-z0-9.+-]:\/*)?/i,l=/https?|ftp|gopher|file/;function d(e,t){var r="string"==typeof e?g(e):e;e="object"==typeof e?o(e):e;var n=g(t),s="";r.protocol&&!r.slashes&&(s=r.protocol,e=e.replace(r.protocol,""),s+="/"===t[0]||"/"===e[0]?"/":""),s&&n.protocol&&(s="",n.slashes||(s=n.protocol,t=t.replace(n.protocol,"")));var i=e.match(u);i&&!n.protocol&&(e=e.substr((s=i[1]+(i[2]||"")).length),/^\/\/[^/]/.test(t)&&(s=s.slice(0,-1)));var c=new URL(e,h+"/"),d=new URL(t,c).toString().replace(h,""),p=n.protocol||r.protocol;return p+=r.slashes||n.slashes?"//":"",!s&&p?d=d.replace(a,p):s&&(d=d.replace(a,"")),l.test(d)||~t.indexOf(".")||"/"===e.slice(-1)||"/"===t.slice(-1)||"/"!==d.slice(-1)||(d=d.slice(0,-1)),s&&(d=s+("/"===d[0]?d.substr(1):d)),d}function p(){}p.prototype.parse=g,p.prototype.format=o,p.prototype.resolve=d,p.prototype.resolveObject=d;var y=/^https?|ftp|gopher|file/,m=/^(.*?)([#?].*)/,f=/^([a-z0-9.+-]*:)(\/{0,3})(.*)/i,b=/^([a-z0-9.+-]*:)?\/\/\/*/i,_=/^([a-z0-9.+-]*:)(\/{0,2})\[(.*)\]$/i;function g(e,t,r){if(void 0===t&&(t=!1),void 0===r&&(r=!1),e&&"object"==typeof e&&e instanceof p)return e;var n=(e=e.trim()).match(m);e=n?n[1].replace(/\\/g,"/")+n[2]:e.replace(/\\/g,"/"),_.test(e)&&"/"!==e.slice(-1)&&(e+="/");var i=!/(^javascript)/.test(e)&&e.match(f),a=b.test(e),u="";i&&(y.test(i[1])||(u=i[1].toLowerCase(),e=""+i[2]+i[3]),i[2]||(a=!1,y.test(i[1])?(u=i[1],e=""+i[3]):e="//"+i[3]),3!==i[2].length&&1!==i[2].length||(u=i[1],e="/"+i[3]));var l,d=(n?n[1]:e).match(/^https?:\/\/[^/]+(:[0-9]+)(?=\/|$)/),g=d&&d[1],v=new p,E="",q="";try{l=new URL(e)}catch(s){E=s,u||r||!/^\/\//.test(e)||/^\/\/.+[@.]/.test(e)||(q="/",e=e.substr(1));try{l=new URL(e,h)}catch(e){return v.protocol=u,v.href=u,v}}v.slashes=a&&!q,v.host=l.host===c?"":l.host,v.hostname=l.hostname===c?"":l.hostname.replace(/(\[|\])/g,""),v.protocol=E?u||null:l.protocol,v.search=l.search.replace(/\\/g,"%5C"),v.hash=l.hash.replace(/\\/g,"%5C");var O=e.split("#");!v.search&&~O[0].indexOf("?")&&(v.search="?"),v.hash||""!==O[1]||(v.hash="#"),v.query=t?s.decode(l.search.substr(1)):v.search.substr(1),v.pathname=q+(i?function(e){return e.replace(/['^|`]/g,(function(e){return"%"+e.charCodeAt().toString(16).toUpperCase()})).replace(/((?:%[0-9A-F]{2})+)/g,(function(e,t){try{return decodeURIComponent(t).split("").map((function(e){var t=e.charCodeAt();return t>256||/^[a-z0-9]$/i.test(e)?e:"%"+t.toString(16).toUpperCase()})).join("")}catch(e){return t}}))}(l.pathname):l.pathname),"about:"===v.protocol&&"blank"===v.pathname&&(v.protocol="",v.pathname=""),E&&"/"!==e[0]&&(v.pathname=v.pathname.substr(1)),u&&!y.test(u)&&"/"!==e.slice(-1)&&"/"===v.pathname&&(v.pathname=""),v.path=v.pathname+v.search,v.auth=[l.username,l.password].map(decodeURIComponent).filter(Boolean).join(":"),v.port=l.port,g&&!v.host.endsWith(g)&&(v.host+=g,v.port=g.slice(1)),v.href=q?""+v.pathname+v.search+v.hash:o(v);var T=/^(file)/.test(v.href)?["host","hostname"]:[];return Object.keys(v).forEach((function(e){~T.indexOf(e)||(v[e]=v[e]||null)})),v}t.parse=g,t.format=o,t.resolve=d,t.resolveObject=function(e,t){return g(d(e,t))},t.Url=p},4947:function(e){var t=function(e){return e.replace(/^\s+|\s+$/g,"")};e.exports=function(e){if(!e)return{};for(var r,n={},s=t(e).split("\n"),i=0;i<s.length;i++){var o=s[i],a=o.indexOf(":"),c=t(o.slice(0,a)).toLowerCase(),h=t(o.slice(a+1));"undefined"===typeof n[c]?n[c]=h:(r=n[c],"[object Array]"===Object.prototype.toString.call(r)?n[c].push(h):n[c]=[n[c],h])}return n}},6470:function(e,t,r){"use strict";var n=r(4155);function s(e){if("string"!==typeof e)throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}function i(e,t){for(var r,n="",s=0,i=-1,o=0,a=0;a<=e.length;++a){if(a<e.length)r=e.charCodeAt(a);else{if(47===r)break;r=47}if(47===r){if(i===a-1||1===o);else if(i!==a-1&&2===o){if(n.length<2||2!==s||46!==n.charCodeAt(n.length-1)||46!==n.charCodeAt(n.length-2))if(n.length>2){var c=n.lastIndexOf("/");if(c!==n.length-1){-1===c?(n="",s=0):s=(n=n.slice(0,c)).length-1-n.lastIndexOf("/"),i=a,o=0;continue}}else if(2===n.length||1===n.length){n="",s=0,i=a,o=0;continue}t&&(n.length>0?n+="/..":n="..",s=2)}else n.length>0?n+="/"+e.slice(i+1,a):n=e.slice(i+1,a),s=a-i-1;i=a,o=0}else 46===r&&-1!==o?++o:o=-1}return n}var o={resolve:function(){for(var e,t="",r=!1,o=arguments.length-1;o>=-1&&!r;o--){var a;o>=0?a=arguments[o]:(void 0===e&&(e=n.cwd()),a=e),s(a),0!==a.length&&(t=a+"/"+t,r=47===a.charCodeAt(0))}return t=i(t,!r),r?t.length>0?"/"+t:"/":t.length>0?t:"."},normalize:function(e){if(s(e),0===e.length)return".";var t=47===e.charCodeAt(0),r=47===e.charCodeAt(e.length-1);return 0!==(e=i(e,!t)).length||t||(e="."),e.length>0&&r&&(e+="/"),t?"/"+e:e},isAbsolute:function(e){return s(e),e.length>0&&47===e.charCodeAt(0)},join:function(){if(0===arguments.length)return".";for(var e,t=0;t<arguments.length;++t){var r=arguments[t];s(r),r.length>0&&(void 0===e?e=r:e+="/"+r)}return void 0===e?".":o.normalize(e)},relative:function(e,t){if(s(e),s(t),e===t)return"";if((e=o.resolve(e))===(t=o.resolve(t)))return"";for(var r=1;r<e.length&&47===e.charCodeAt(r);++r);for(var n=e.length,i=n-r,a=1;a<t.length&&47===t.charCodeAt(a);++a);for(var c=t.length-a,h=i<c?i:c,u=-1,l=0;l<=h;++l){if(l===h){if(c>h){if(47===t.charCodeAt(a+l))return t.slice(a+l+1);if(0===l)return t.slice(a+l)}else i>h&&(47===e.charCodeAt(r+l)?u=l:0===l&&(u=0));break}var d=e.charCodeAt(r+l);if(d!==t.charCodeAt(a+l))break;47===d&&(u=l)}var p="";for(l=r+u+1;l<=n;++l)l!==n&&47!==e.charCodeAt(l)||(0===p.length?p+="..":p+="/..");return p.length>0?p+t.slice(a+u):(a+=u,47===t.charCodeAt(a)&&++a,t.slice(a))},_makeLong:function(e){return e},dirname:function(e){if(s(e),0===e.length)return".";for(var t=e.charCodeAt(0),r=47===t,n=-1,i=!0,o=e.length-1;o>=1;--o)if(47===(t=e.charCodeAt(o))){if(!i){n=o;break}}else i=!1;return-1===n?r?"/":".":r&&1===n?"//":e.slice(0,n)},basename:function(e,t){if(void 0!==t&&"string"!==typeof t)throw new TypeError('"ext" argument must be a string');s(e);var r,n=0,i=-1,o=!0;if(void 0!==t&&t.length>0&&t.length<=e.length){if(t.length===e.length&&t===e)return"";var a=t.length-1,c=-1;for(r=e.length-1;r>=0;--r){var h=e.charCodeAt(r);if(47===h){if(!o){n=r+1;break}}else-1===c&&(o=!1,c=r+1),a>=0&&(h===t.charCodeAt(a)?-1===--a&&(i=r):(a=-1,i=c))}return n===i?i=c:-1===i&&(i=e.length),e.slice(n,i)}for(r=e.length-1;r>=0;--r)if(47===e.charCodeAt(r)){if(!o){n=r+1;break}}else-1===i&&(o=!1,i=r+1);return-1===i?"":e.slice(n,i)},extname:function(e){s(e);for(var t=-1,r=0,n=-1,i=!0,o=0,a=e.length-1;a>=0;--a){var c=e.charCodeAt(a);if(47!==c)-1===n&&(i=!1,n=a+1),46===c?-1===t?t=a:1!==o&&(o=1):-1!==t&&(o=-1);else if(!i){r=a+1;break}}return-1===t||-1===n||0===o||1===o&&t===n-1&&t===r+1?"":e.slice(t,n)},format:function(e){if(null===e||"object"!==typeof e)throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof e);return function(e,t){var r=t.dir||t.root,n=t.base||(t.name||"")+(t.ext||"");return r?r===t.root?r+n:r+e+n:n}("/",e)},parse:function(e){s(e);var t={root:"",dir:"",base:"",ext:"",name:""};if(0===e.length)return t;var r,n=e.charCodeAt(0),i=47===n;i?(t.root="/",r=1):r=0;for(var o=-1,a=0,c=-1,h=!0,u=e.length-1,l=0;u>=r;--u)if(47!==(n=e.charCodeAt(u)))-1===c&&(h=!1,c=u+1),46===n?-1===o?o=u:1!==l&&(l=1):-1!==o&&(l=-1);else if(!h){a=u+1;break}return-1===o||-1===c||0===l||1===l&&o===c-1&&o===a+1?-1!==c&&(t.base=t.name=0===a&&i?e.slice(1,c):e.slice(a,c)):(0===a&&i?(t.name=e.slice(1,o),t.base=e.slice(1,c)):(t.name=e.slice(a,o),t.base=e.slice(a,c)),t.ext=e.slice(o,c)),a>0?t.dir=e.slice(0,a-1):i&&(t.dir="/"),t},sep:"/",delimiter:":",win32:null,posix:null};o.posix=o,e.exports=o},4155:function(e){var t,r,n=e.exports={};function s(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function o(e){if(t===setTimeout)return setTimeout(e,0);if((t===s||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(r){try{return t.call(null,e,0)}catch(r){return t.call(this,e,0)}}}!function(){try{t="function"===typeof setTimeout?setTimeout:s}catch(e){t=s}try{r="function"===typeof clearTimeout?clearTimeout:i}catch(e){r=i}}();var a,c=[],h=!1,u=-1;function l(){h&&a&&(h=!1,a.length?c=a.concat(c):u=-1,c.length&&d())}function d(){if(!h){var e=o(l);h=!0;for(var t=c.length;t;){for(a=c,c=[];++u<t;)a&&a[u].run();u=-1,t=c.length}a=null,h=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===i||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function y(){}n.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];c.push(new p(e,t)),1!==c.length||h||o(d)},p.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=y,n.addListener=y,n.once=y,n.off=y,n.removeListener=y,n.removeAllListeners=y,n.emit=y,n.prependListener=y,n.prependOnceListener=y,n.listeners=function(e){return[]},n.binding=function(e){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(e){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}},7563:function(e,t,r){"use strict";const n=r(610),s=r(4020),i=r(500),o=r(2806);function a(e){if("string"!==typeof e||1!==e.length)throw new TypeError("arrayFormatSeparator must be single character string")}function c(e,t){return t.encode?t.strict?n(e):encodeURIComponent(e):e}function h(e,t){return t.decode?s(e):e}function u(e){return Array.isArray(e)?e.sort():"object"===typeof e?u(Object.keys(e)).sort(((e,t)=>Number(e)-Number(t))).map((t=>e[t])):e}function l(e){const t=e.indexOf("#");return-1!==t&&(e=e.slice(0,t)),e}function d(e){const t=(e=l(e)).indexOf("?");return-1===t?"":e.slice(t+1)}function p(e,t){return t.parseNumbers&&!Number.isNaN(Number(e))&&"string"===typeof e&&""!==e.trim()?e=Number(e):!t.parseBooleans||null===e||"true"!==e.toLowerCase()&&"false"!==e.toLowerCase()||(e="true"===e.toLowerCase()),e}function y(e,t){a((t=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},t)).arrayFormatSeparator);const r=function(e){let t;switch(e.arrayFormat){case"index":return(e,r,n)=>{t=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),t?(void 0===n[e]&&(n[e]={}),n[e][t[1]]=r):n[e]=r};case"bracket":return(e,r,n)=>{t=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),t?void 0!==n[e]?n[e]=[].concat(n[e],r):n[e]=[r]:n[e]=r};case"comma":case"separator":return(t,r,n)=>{const s="string"===typeof r&&r.includes(e.arrayFormatSeparator),i="string"===typeof r&&!s&&h(r,e).includes(e.arrayFormatSeparator);r=i?h(r,e):r;const o=s||i?r.split(e.arrayFormatSeparator).map((t=>h(t,e))):null===r?r:h(r,e);n[t]=o};default:return(e,t,r)=>{void 0!==r[e]?r[e]=[].concat(r[e],t):r[e]=t}}}(t),n=Object.create(null);if("string"!==typeof e)return n;if(!(e=e.trim().replace(/^[?#&]/,"")))return n;for(const s of e.split("&")){if(""===s)continue;let[e,o]=i(t.decode?s.replace(/\+/g," "):s,"=");o=void 0===o?null:["comma","separator"].includes(t.arrayFormat)?o:h(o,t),r(h(e,t),o,n)}for(const s of Object.keys(n)){const e=n[s];if("object"===typeof e&&null!==e)for(const r of Object.keys(e))e[r]=p(e[r],t);else n[s]=p(e,t)}return!1===t.sort?n:(!0===t.sort?Object.keys(n).sort():Object.keys(n).sort(t.sort)).reduce(((e,t)=>{const r=n[t];return Boolean(r)&&"object"===typeof r&&!Array.isArray(r)?e[t]=u(r):e[t]=r,e}),Object.create(null))}t.extract=d,t.parse=y,t.stringify=(e,t)=>{if(!e)return"";a((t=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},t)).arrayFormatSeparator);const r=r=>{return t.skipNull&&(null===(n=e[r])||void 0===n)||t.skipEmptyString&&""===e[r];var n},n=function(e){switch(e.arrayFormat){case"index":return t=>(r,n)=>{const s=r.length;return void 0===n||e.skipNull&&null===n||e.skipEmptyString&&""===n?r:null===n?[...r,[c(t,e),"[",s,"]"].join("")]:[...r,[c(t,e),"[",c(s,e),"]=",c(n,e)].join("")]};case"bracket":return t=>(r,n)=>void 0===n||e.skipNull&&null===n||e.skipEmptyString&&""===n?r:null===n?[...r,[c(t,e),"[]"].join("")]:[...r,[c(t,e),"[]=",c(n,e)].join("")];case"comma":case"separator":return t=>(r,n)=>null===n||void 0===n||0===n.length?r:0===r.length?[[c(t,e),"=",c(n,e)].join("")]:[[r,c(n,e)].join(e.arrayFormatSeparator)];default:return t=>(r,n)=>void 0===n||e.skipNull&&null===n||e.skipEmptyString&&""===n?r:null===n?[...r,c(t,e)]:[...r,[c(t,e),"=",c(n,e)].join("")]}}(t),s={};for(const o of Object.keys(e))r(o)||(s[o]=e[o]);const i=Object.keys(s);return!1!==t.sort&&i.sort(t.sort),i.map((r=>{const s=e[r];return void 0===s?"":null===s?c(r,t):Array.isArray(s)?s.reduce(n(r),[]).join("&"):c(r,t)+"="+c(s,t)})).filter((e=>e.length>0)).join("&")},t.parseUrl=(e,t)=>{t=Object.assign({decode:!0},t);const[r,n]=i(e,"#");return Object.assign({url:r.split("?")[0]||"",query:y(d(e),t)},t&&t.parseFragmentIdentifier&&n?{fragmentIdentifier:h(n,t)}:{})},t.stringifyUrl=(e,r)=>{r=Object.assign({encode:!0,strict:!0},r);const n=l(e.url).split("?")[0]||"",s=t.extract(e.url),i=t.parse(s,{sort:!1}),o=Object.assign(i,e.query);let a=t.stringify(o,r);a&&(a=`?${a}`);let h=function(e){let t="";const r=e.indexOf("#");return-1!==r&&(t=e.slice(r)),t}(e.url);return e.fragmentIdentifier&&(h=`#${c(e.fragmentIdentifier,r)}`),`${n}${a}${h}`},t.pick=(e,r,n)=>{n=Object.assign({parseFragmentIdentifier:!0},n);const{url:s,query:i,fragmentIdentifier:a}=t.parseUrl(e,n);return t.stringifyUrl({url:s,query:o(i,r),fragmentIdentifier:a},n)},t.exclude=(e,r,n)=>{const s=Array.isArray(r)?e=>!r.includes(e):(e,t)=>!r(e,t);return t.pick(e,s,n)}},2587:function(e){"use strict";function t(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,r,n,s){r=r||"&",n=n||"=";var i={};if("string"!==typeof e||0===e.length)return i;var o=/\+/g;e=e.split(r);var a=1e3;s&&"number"===typeof s.maxKeys&&(a=s.maxKeys);var c=e.length;a>0&&c>a&&(c=a);for(var h=0;h<c;++h){var u,l,d,p,y=e[h].replace(o,"%20"),m=y.indexOf(n);m>=0?(u=y.substr(0,m),l=y.substr(m+1)):(u=y,l=""),d=decodeURIComponent(u),p=decodeURIComponent(l),t(i,d)?Array.isArray(i[d])?i[d].push(p):i[d]=[i[d],p]:i[d]=p}return i}},2361:function(e){"use strict";var t=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,r,n,s){return r=r||"&",n=n||"=",null===e&&(e=void 0),"object"===typeof e?Object.keys(e).map((function(s){var i=encodeURIComponent(t(s))+n;return Array.isArray(e[s])?e[s].map((function(e){return i+encodeURIComponent(t(e))})).join(r):i+encodeURIComponent(t(e[s]))})).filter(Boolean).join(r):s?encodeURIComponent(t(s))+n+encodeURIComponent(t(e)):""}},7673:function(e,t,r){"use strict";t.decode=t.parse=r(2587),t.encode=t.stringify=r(2361)},500:function(e){"use strict";e.exports=(e,t)=>{if("string"!==typeof e||"string"!==typeof t)throw new TypeError("Expected the arguments to be of type `string`");if(""===t)return[e];const r=e.indexOf(t);return-1===r?[e]:[e.slice(0,r),e.slice(r+t.length)]}},610:function(e){"use strict";e.exports=e=>encodeURIComponent(e).replace(/[!'()*]/g,(e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`))},1875:function(e,t,r){"use strict";var n=r(8908),s=r(7376),i=r(4947),o=r(7529);function a(e,t,r){var n=e;return s(t)?(r=t,"string"===typeof e&&(n={uri:e})):n=o(t,{uri:e}),n.callback=r,n}function c(e,t,r){return h(t=a(e,t,r))}function h(e){if("undefined"===typeof e.callback)throw new Error("callback argument missing");var t=!1,r=function(r,n,s){t||(t=!0,e.callback(r,n,s))};function n(){var e=void 0;if(e=u.response?u.response:u.responseText||function(e){try{if("document"===e.responseType)return e.responseXML;var t=e.responseXML&&"parsererror"===e.responseXML.documentElement.nodeName;if(""===e.responseType&&!t)return e.responseXML}catch(r){}return null}(u),b)try{e=JSON.parse(e)}catch(t){}return e}function s(e){return clearTimeout(l),e instanceof Error||(e=new Error(""+(e||"Unknown XMLHttpRequest Error"))),e.statusCode=0,r(e,_)}function o(){if(!h){var t;clearTimeout(l),t=e.useXDR&&void 0===u.status?200:1223===u.status?204:u.status;var s=_,o=null;return 0!==t?(s={body:n(),statusCode:t,method:p,headers:{},url:d,rawRequest:u},u.getAllResponseHeaders&&(s.headers=i(u.getAllResponseHeaders()))):o=new Error("Internal XMLHttpRequest Error"),r(o,s,s.body)}}var a,h,u=e.xhr||null;u||(u=e.cors||e.useXDR?new c.XDomainRequest:new c.XMLHttpRequest);var l,d=u.url=e.uri||e.url,p=u.method=e.method||"GET",y=e.body||e.data,m=u.headers=e.headers||{},f=!!e.sync,b=!1,_={body:void 0,headers:{},statusCode:0,method:p,url:d,rawRequest:u};if("json"in e&&!1!==e.json&&(b=!0,m.accept||m.Accept||(m.Accept="application/json"),"GET"!==p&&"HEAD"!==p&&(m["content-type"]||m["Content-Type"]||(m["Content-Type"]="application/json"),y=JSON.stringify(!0===e.json?y:e.json))),u.onreadystatechange=function(){4===u.readyState&&setTimeout(o,0)},u.onload=o,u.onerror=s,u.onprogress=function(){},u.onabort=function(){h=!0},u.ontimeout=s,u.open(p,d,!f,e.username,e.password),f||(u.withCredentials=!!e.withCredentials),!f&&e.timeout>0&&(l=setTimeout((function(){if(!h){h=!0,u.abort("timeout");var e=new Error("XMLHttpRequest timeout");e.code="ETIMEDOUT",s(e)}}),e.timeout)),u.setRequestHeader)for(a in m)m.hasOwnProperty(a)&&u.setRequestHeader(a,m[a]);else if(e.headers&&!function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}(e.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in e&&(u.responseType=e.responseType),"beforeSend"in e&&"function"===typeof e.beforeSend&&e.beforeSend(u),u.send(y||null),u}e.exports=c,e.exports.default=c,c.XMLHttpRequest=n.XMLHttpRequest||function(){},c.XDomainRequest="withCredentials"in new c.XMLHttpRequest?c.XMLHttpRequest:n.XDomainRequest,function(e,t){for(var r=0;r<e.length;r++)t(e[r])}(["get","put","post","patch","head","delete"],(function(e){c["delete"===e?"del":e]=function(t,r,n){return(r=a(t,r,n)).method=e.toUpperCase(),h(r)}}))},7529:function(e){e.exports=function(){for(var e={},r=0;r<arguments.length;r++){var n=arguments[r];for(var s in n)t.call(n,s)&&(e[s]=n[s])}return e};var t=Object.prototype.hasOwnProperty}}]);